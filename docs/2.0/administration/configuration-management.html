<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" integrity="sha384-awusxf8AUojygHf2+joICySzB780jVvQaVCAt1clU3QsyAitLGul28Qxb2r1e5g+" crossorigin="anonymous">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jq-2.2.3/dt-1.10.12/datatables.min.css">
<link href="/css/accumulo.css" rel="stylesheet" type="text/css">

<title>Accumulo Documentation - Configuration Management</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-2.2.3/dt-1.10.12/datatables.min.js"></script>
<script>
  // show location of canonical site if not currently on the canonical site
  $(function() {
    var host = window.location.host;
    if (typeof host !== 'undefined' && host !== 'accumulo.apache.org') {
      $('#non-canonical').show();
    }
  });

  $(function() {
    // decorate section headers with anchors
    return $("h2, h3, h4, h5, h6").each(function(i, el) {
      var $el, icon, id;
      $el = $(el);
      id = $el.attr('id');
      icon = '<i class="fa fa-link"></i>';
      if (id) {
        return $el.append($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
      }
    });
  });

  // fix sidebar width in documentation
  $(function() {
    var $affixElement = $('div[data-spy="affix"]');
    $affixElement.width($affixElement.parent().width());
  });
</script>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-50934829-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-50934829-1');
</script>

</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-items">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/"><img id="nav-logo" alt="Apache Accumulo" class="img-responsive" src="/images/accumulo-logo.png" width="200"
        /></a>
    </div>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="nav navbar-nav">
        <li class="nav-link"><a href="/downloads">Download</a></li>
        <li class="nav-link"><a href="/tour">Tour</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Releases<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/release/accumulo-1.9.0/">1.9.0 (Latest)</a></li>
            <li><a href="/release/accumulo-1.7.4/">1.7.4</a></li>
            <li><a href="/release/">Archive</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/quickstart-1.x">Quickstart (1.x)</a></li>
            <li><a href="/1.9/accumulo_user_manual.html">User Manual (1.9)</a></li>
            <li><a href="/1.9/apidocs">Javadocs (1.9)</a></li>
            <li><a href="/1.9/examples">Examples (1.9)</a></li>
            <li><a href="/features">Features</a></li>
            <li><a href="/glossary">Glossary</a></li>
            <li><a href="/external-docs">External Docs</a></li>
            <li><a href="/docs-archive/">Archive</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/contact-us">Contact Us</a></li>
            <li><a href="/how-to-contribute">How To Contribute</a></li>
            <li><a href="/people">People</a></li>
            <li><a href="/related-projects">Related Projects</a></li>
          </ul>
        </li>
        <li class="nav-link"><a href="/search">Search</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Apache Software Foundation<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="https://www.apache.org">Apache Homepage <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/licenses/">License <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/foundation/sponsorship">Sponsorship <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/security">Security <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/foundation/thanks">Thanks <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/events/current-event.html">Current Event <i class="fa fa-external-link"></i></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <div class="row">
  <div class="col-md-3">
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true" data-spy="affix">
      <div class="panel panel-default">
      
      
      
        
          
        
          
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsegetting-started" aria-expanded="false" aria-controls="collapsegetting-started">
                  Getting started
                </a>
              </h4>
            </div>
            <div id="collapsegetting-started" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/getting-started/design">Accumulo Design</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/getting-started/quick-install">Quick Installation</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/getting-started/clients">Accumulo Clients</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/getting-started/shell">Accumulo Shell</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/getting-started/table_design">Table Design</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/getting-started/table_configuration">Table Configuration</a></div>
                
              </div>
            </div>
          
        
          
        
          
        
      
        
          
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsedevelopment" aria-expanded="false" aria-controls="collapsedevelopment">
                  Development
                </a>
              </h4>
            </div>
            <div id="collapsedevelopment" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/development/iterators">Iterators</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/development/mapreduce">MapReduce</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/development/proxy">Proxy</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/development/development_tools">Development Tools</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/development/sampling">Sampling</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/development/summaries">Summary Statistics</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/development/security">Security</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/development/high_speed_ingest">High-Speed Ingest</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/development/client-properties">Client Properties</a></div>
                
              </div>
            </div>
          
        
          
        
          
        
          
        
      
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseadministration" aria-expanded="true" aria-controls="collapseadministration">
                  Administration
                </a>
              </h4>
            </div>
            <div id="collapseadministration" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/in-depth-install">In-depth Installation</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/configuration-management">Configuration Management</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/properties">Server Properties</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/monitoring-metrics">Monitoring & Metrics</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/tracing">Tracing</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/fate">FATE</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/multivolume">Multi-Volume Installations</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/ssl">SSL</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/kerberos">Kerberos</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/replication">Replication</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/caching">Caching</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/administration/upgrading">Upgrading Accumulo</a></div>
                
              </div>
            </div>
          
        
          
        
          
        
          
        
          
        
      
        
          
        
          
        
          
        
          
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsetroubleshooting" aria-expanded="false" aria-controls="collapsetroubleshooting">
                  Troubleshooting
                </a>
              </h4>
            </div>
            <div id="collapsetroubleshooting" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/troubleshooting/basic">Basic Troubleshooting</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/troubleshooting/advanced">Advanced Troubleshooting</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/troubleshooting/tools">Troubleshooting Tools</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/troubleshooting/system-metadata-tables">System Metadata Tables</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.0/troubleshooting/performance">Performance</a></div>
                
              </div>
            </div>
          
        
      
      </div>
    </div>
  </div>
  <div class="col-md-9">
    
    <p>Accumulo 2.0 documentation &nbsp;&gt;&gt;&nbsp; Administration &nbsp;&gt;&gt;&nbsp; Configuration Management</p>
    

    <div class="alert alert-danger" style="margin-bottom: 0px;" role="alert">This documentation is for a future release of Accumulo! <a href="/1.9/accumulo_user_manual.html">View documentation for the latest release</a>.</div>

    <div class="row">
      <div class="col-md-10"><h1>Configuration Management</h1></div>
      <div class="col-md-2"><a class="pull-right" style="margin-top: 25px;" href="https://github.com/apache/accumulo-website/edit/master/_docs-2-0/administration/configuration-management.md" role="button"><i class="glyphicon glyphicon-pencil"></i> <small>Edit this page</small></a></div>
    </div>

    <p>Configuration is managed differently for Accumulo clients and servers.</p>

<h2 id="client-configuration">Client Configuration</h2>

<p>Accumulo clients are configured when <a href="/docs/2.0/getting-started/clients#connecting">the Connector is built</a> using builder methods or <code class="highlighter-rouge">accumulo-client.properties</code>
which is configured using <a href="/docs/2.0/development/client-properties">client properties</a>.</p>

<h2 id="server-configuration">Server Configuration</h2>

<p>Accumulo services (i.e master, tablet server, monitor, etc) are configured using <a href="/docs/2.0/administration/properties">server properties</a> whose values can be
set in the following locations (with increasing precedence):</p>

<ol>
  <li>Default values</li>
  <li>accumulo-site.xml (overrides defaults)</li>
  <li>Zookeeper (overrides accumulo-site.xml &amp; defaults)</li>
</ol>

<p>If a property is set in multiple locations, the value in the location with the highest precedence is used.</p>

<p>The configuration locations above are described in detail below.</p>

<h3 id="default-values">Default values</h3>

<p>All <a href="/docs/2.0/administration/properties">server properties</a> have a default value that is listed for each property on the <a href="/docs/2.0/administration/properties">properties</a> page. Default values are set in the source code.
While default values have the lowest precedence, they are usually optimal.  However, there are cases where a change can increase query and ingest performance.</p>

<h3 id="accumulo-sitexml">accumulo-site.xml</h3>

<p>Setting <a href="/docs/2.0/administration/properties">server properties</a> in accumulo-site.xml will override their default value. If you are running Accumulo on a cluster, any updates to accumulo-site.xml must
be synced across the cluster. Accumulo processes (master, tserver, etc) read their local accumulo-site.xml on start up so processes must be restarted to apply changes.
Certain properties can only be set in accumulo-site.xml. These properties have <strong>zk mutable: no</strong> in their description. Setting properties in accumulo-site.xml allows you
to configure tablet servers with different settings.</p>

<h3 id="zookeeper">Zookeeper</h3>

<p>Many <a href="/docs/2.0/administration/properties">server properties</a> can be set in Zookeeper using the Accumulo API or shell. These properties can identified by <strong>zk mutable: yes</strong> in their description on
the <a href="/docs/2.0/administration/properties">properties page</a>. Zookeeper properties can be applied on a per-table or system-wide basis. Per-table properties take precedence over system-wide
properties. While most properties set in Zookeeper take effect immediately, some require a restart of the process which is indicated in <strong>zk mutable</strong> section
of their description.</p>

<h4 id="zookeeper-system-properties">Zookeeper System properties</h4>

<p>System properties consist of all <a href="/docs/2.0/administration/properties">properties</a> with <strong>zk mutable: yes</strong> in their description. They are set with the following shell command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config -s PROPERTY=VALUE
</code></pre></div></div>

<p>If a <code class="highlighter-rouge">table.*</code> property is set using this method, the value will apply to all tables except those configured on per-table basis (which have higher precedence).</p>

<h4 id="zookeeper-table-properties">Zookeeper Table properties</h4>

<p><a href="/docs/2.0/administration/properties#table_prefix">Table properties</a> consist of all properties with the <code class="highlighter-rouge">table.*</code> prefix.</p>

<p>Table properties are configured for a table namespace (i.e group of tables) or on a per-table basis.</p>

<p>To configure a table property for a namespace, use the following command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config -ns NAMESPACE -s PROPERTY=VALUE
</code></pre></div></div>

<p>To configure a table property for a specific table, use the following command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config -t TABLE -s PROPERTY=VALUE
</code></pre></div></div>

<p>Per-table settings take precedent over table namespace settings.  Both take precedent over system properties.</p>

<h4 id="zookeeper-considerations">Zookeeper Considerations</h4>

<p>Any <a href="/docs/2.0/administration/properties">properties</a> that are set in Zookeeper should consider the limitations of Zookeeper itself with respect to the
number of nodes and the size of the node data. Custom table properties and options for Iterators configured on tables
are two areas in which there aren’t any fail safes built into the API that can prevent the user from making this mistake.</p>

<p>While these properties have the ability to add some much needed dynamic configuration tools, use cases which might fall
into these warnings should be reconsidered.</p>

<h2 id="viewing-server-configuration">Viewing Server Configuration</h2>

<p>Accumulo’s current configuration can be viewed in the shell using the <code class="highlighter-rouge">config</code> command.</p>

<ul>
  <li><code class="highlighter-rouge">config</code> - view configuration for the entire system</li>
  <li><code class="highlighter-rouge">config -ns &lt;NAMESPACE&gt;</code> - view configuration for a specific namespace</li>
  <li><code class="highlighter-rouge">config -t &lt;TABLE&gt;</code> - view configuration for a specific table</li>
</ul>

<p>Below is example shell output from viewing configuration for the table <code class="highlighter-rouge">foo</code>. Please note how <code class="highlighter-rouge">table.compaction.major.ratio</code>
is set in multiple locations but the value <code class="highlighter-rouge">1.6</code> set in the <code class="highlighter-rouge">table</code> scope is used as it has the highest precedence.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@accumulo-instance&gt; config -t foo
---------+---------------------------------------------+------------------------------------------------------
SCOPE    | NAME                                        | VALUE
---------+---------------------------------------------+------------------------------------------------------
default  | table.balancer ............................ | org.apache.accumulo.server.master.balancer.DefaultLoadBalancer
default  | table.bloom.enabled ....................... | false
default  | table.bloom.error.rate .................... | 0.5%
default  | table.bloom.hash.type ..................... | murmur
default  | table.bloom.key.functor ................... | org.apache.accumulo.core.file.keyfunctor.RowFunctor
default  | table.bloom.load.threshold ................ | 1
default  | table.bloom.size .......................... | 1048576
default  | table.cache.block.enable .................. | false
default  | table.cache.index.enable .................. | false
default  | table.compaction.major.everything.at ...... | 19700101000000GMT
default  | table.compaction.major.everything.idle .... | 1h
default  | table.compaction.major.ratio .............. | 1.3
site     |    @override .............................. | 1.4
system   |    @override .............................. | 1.5
table    |    @override .............................. | 1.6
default  | table.compaction.minor.idle ............... | 5m
default  | table.compaction.minor.logs.threshold ..... | 3
default  | table.failures.ignore ..................... | false
</code></pre></div></div>



    <div class="row" style="margin-top: 20px;">
      <div class="col-md-10"><strong>Find documentation for all releases in the <a href="/docs-archive">archive</strong></div>
      <div class="col-md-2"><a class="pull-right" href="https://github.com/apache/accumulo-website/edit/master/_docs-2-0/administration/configuration-management.md" role="button"><i class="glyphicon glyphicon-pencil"></i> <small>Edit this page</small></a></div>
    </div>  
  </div>
</div>

        </div>

        
<footer>

  <p><a href="https://www.apache.org/foundation/contributing"><img src="https://www.apache.org/images/SupportApache-small.png" alt="Support the ASF" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2018 <a href="https://www.apache.org">The Apache Software Foundation</a>.
Licensed under the <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.</p>

  <p>Apache®, the names of Apache projects and their logos, and the multicolor feather
logo are registered trademarks or trademarks of The Apache Software Foundation
in the United States and/or other countries.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
