<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" integrity="sha384-awusxf8AUojygHf2+joICySzB780jVvQaVCAt1clU3QsyAitLGul28Qxb2r1e5g+" crossorigin="anonymous">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jq-2.2.3/dt-1.10.12/datatables.min.css">
<link href="/css/accumulo.css" rel="stylesheet" type="text/css">

<title>Accumulo Documentation - Features</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-2.2.3/dt-1.10.12/datatables.min.js"></script>
<script>
  // show location of canonical site if not currently on the canonical site
  $(function() {
    var host = window.location.host;
    if (typeof host !== 'undefined' && host !== 'accumulo.apache.org') {
      $('#non-canonical').show();
    }
  });

  $(function() {
    // decorate section headers with anchors
    return $("h2, h3, h4, h5, h6").each(function(i, el) {
      var $el, icon, id;
      $el = $(el);
      id = $el.attr('id');
      icon = '<i class="fa fa-link"></i>';
      if (id) {
        return $el.append($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
      }
    });
  });

  // fix sidebar width in documentation
  $(function() {
    var $affixElement = $('div[data-spy="affix"]');
    $affixElement.width($affixElement.parent().width());
  });
</script>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-50934829-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-50934829-1');
</script>

</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-items">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/"><img id="nav-logo" alt="Apache Accumulo" class="img-responsive" src="/images/accumulo-logo.png" width="200"
        /></a>
    </div>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="nav navbar-nav">
        <li class="nav-link"><a href="/downloads">Download</a></li>
        <li class="nav-link"><a href="/tour">Tour</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Releases<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/release/accumulo-2.0.0-alpha-1/">2.0.0-alpha-1 (Preview Release)</a></li>
            <li><a href="/release/accumulo-1.9.2/">1.9.2 (Latest)</a></li>
            <li><a href="/release/">Archive</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/docs/2.x/getting-started/design">User Manual (2.x)</a></li>
            <li><a href="/quickstart-1.x">Quickstart (1.x)</a></li>
            <li><a href="/1.9/accumulo_user_manual.html">User Manual (1.9)</a></li>
            <li><a href="/1.9/apidocs">Javadocs (1.9)</a></li>
            <li><a href="/external-docs">External Docs</a></li>
            <li><a href="/docs-archive/">Archive</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/contact-us">Contact Us</a></li>
            <li><a href="/how-to-contribute">How To Contribute</a></li>
            <li><a href="/people">People</a></li>
            <li><a href="/related-projects">Related Projects</a></li>
          </ul>
        </li>
        <li class="nav-link"><a href="/search">Search</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#"><img alt="Apache Software Foundation" src="https://www.apache.org/foundation/press/kit/feather.svg" width="15"/><span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="https://www.apache.org">Apache Homepage <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/licenses/">License <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/foundation/sponsorship">Sponsorship <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/security">Security <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/foundation/thanks">Thanks <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/events/current-event.html">Current Event <i class="fa fa-external-link"></i></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <div class="row">
  <div class="col-md-3">
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true" data-spy="affix">
      <div class="panel panel-default">
      
      
      
        
          
        
          
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsegetting-started" aria-expanded="true" aria-controls="collapsegetting-started">
                  Getting started
                </a>
              </h4>
            </div>
            <div id="collapsegetting-started" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/getting-started/design">Accumulo Design</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/getting-started/features">Features</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/getting-started/quick-install">Quick Installation</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/getting-started/clients">Accumulo Clients</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/getting-started/shell">Accumulo Shell</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/getting-started/table_design">Table Design</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/getting-started/table_configuration">Table Configuration</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/getting-started/glossary">Glossary</a></div>
                
              </div>
            </div>
          
        
          
        
          
        
      
        
          
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsedevelopment" aria-expanded="false" aria-controls="collapsedevelopment">
                  Development
                </a>
              </h4>
            </div>
            <div id="collapsedevelopment" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/development/iterators">Iterators</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/development/mapreduce">MapReduce</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/development/proxy">Proxy</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/development/development_tools">Development Tools</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/development/sampling">Sampling</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/development/summaries">Summary Statistics</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/development/security">Security</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/development/high_speed_ingest">High-Speed Ingest</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/development/client-properties">Client Properties</a></div>
                
              </div>
            </div>
          
        
          
        
          
        
          
        
      
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseadministration" aria-expanded="false" aria-controls="collapseadministration">
                  Administration
                </a>
              </h4>
            </div>
            <div id="collapseadministration" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/in-depth-install">In-depth Installation</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/configuration-management">Configuration Management</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/properties">Server Properties</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/monitoring-metrics">Monitoring & Metrics</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/tracing">Tracing</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/fate">FATE</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/multivolume">Multi-Volume Installations</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/ssl">SSL</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/kerberos">Kerberos</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/replication">Replication</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/caching">Caching</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/upgrading">Upgrading Accumulo</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/scan-executors">Scan Executors</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/administration/crypto">On Disk Encryption</a></div>
                
              </div>
            </div>
          
        
          
        
          
        
          
        
          
        
      
        
          
        
          
        
          
        
          
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsetroubleshooting" aria-expanded="false" aria-controls="collapsetroubleshooting">
                  Troubleshooting
                </a>
              </h4>
            </div>
            <div id="collapsetroubleshooting" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/troubleshooting/basic">Basic Troubleshooting</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/troubleshooting/advanced">Advanced Troubleshooting</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/troubleshooting/tools">Troubleshooting Tools</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/troubleshooting/system-metadata-tables">System Metadata Tables</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/2.x/troubleshooting/performance">Performance</a></div>
                
              </div>
            </div>
          
        
      
      </div>
    </div>
  </div>
  <div class="col-md-9">
    
    <p>Accumulo 2.x Documentation &nbsp;&gt;&gt;&nbsp; Getting started &nbsp;&gt;&gt;&nbsp; Features</p>
    

    <div class="alert alert-danger" style="margin-bottom: 0px;" role="alert">This documentation is for a future release of Accumulo! <a href="/1.9/accumulo_user_manual.html">View documentation for the latest release</a>.</div>

    <div class="row">
      <div class="col-md-10"><h1>Features</h1></div>
      <div class="col-md-2"><a class="pull-right" style="margin-top: 25px;" href="https://github.com/apache/accumulo-website/edit/master/_docs-2/getting-started/features.md" role="button"><i class="glyphicon glyphicon-pencil"></i> <small>Edit this page</small></a></div>
    </div>

    
<ul id="markdown-toc">
  <li><a href="#table-design-and-configuration" id="markdown-toc-table-design-and-configuration">Table Design and Configuration</a></li>
  <li><a href="#integrityavailability" id="markdown-toc-integrityavailability">Integrity/Availability</a></li>
  <li><a href="#performance" id="markdown-toc-performance">Performance</a></li>
  <li><a href="#testing" id="markdown-toc-testing">Testing</a></li>
  <li><a href="#client-api" id="markdown-toc-client-api">Client API</a></li>
  <li><a href="#extensible-behaviors" id="markdown-toc-extensible-behaviors">Extensible Behaviors</a></li>
  <li><a href="#general-administration" id="markdown-toc-general-administration">General Administration</a></li>
  <li><a href="#internal-data-management" id="markdown-toc-internal-data-management">Internal Data Management</a></li>
  <li><a href="#on-demand-data-management" id="markdown-toc-on-demand-data-management">On-demand Data Management</a></li>
  <li><a href="#screenshots" id="markdown-toc-screenshots">Screenshots</a></li>
</ul>

<h2 id="table-design-and-configuration">Table Design and Configuration</h2>

<h3 id="iterators">Iterators</h3>

<p>A server-side programming mechanism to encode functions such as filtering and
aggregation within the data management steps (scopes where data is read from or
written to disk) that happen in the tablet server.</p>

<h3 id="cell-labels">Cell labels</h3>

<p>An additional portion of the Key that sorts after the column qualifier and
before the timestamp. It is called column visibility and enables expressive
cell-level access control. Authorizations are passed with each query to control
what data is returned to the user. The column visibilities are boolean AND and
OR combinations of arbitrary strings (such as “(A&amp;B)|C”) and authorizations
are sets of strings (such as {C,D}).</p>

<h3 id="constraints">Constraints</h3>

<p>Configurable conditions under which writes to a table will be rejected.
Constraints are written in Java and configurable on a per table basis.</p>

<h3 id="sharding">Sharding</h3>

<p>Through the use of specialized iterators, Accumulo can be a parallel sharded
document store. For example, Wikipedia could be stored and searched for
documents containing certain words.</p>

<h3 id="large-rows">Large Rows</h3>

<p>When reading rows, there is no requirement that an entire row fits into memory.</p>

<h3 id="namespaces">Namespaces</h3>

<p>In version 1.6.0, the concept of table “namespaces” was created to allow for logical
grouping and configuration of Accumulo tables. By default, tables are created in a
default namespace which is the empty string to preserve the feel for how tables operate
in previous versions. One application of table namespaces is placing the Accumulo root
and metadata table in an “accumulo” namespace to denote that these tables are used
internally by Accumulo.</p>

<h3 id="volume-support">Volume support</h3>

<p>Accumulo 1.6.0 migrated its HDFS configuration from a single HDFS host and directory 
to a collection of HDFS URIs (host and path). This allows Accumulo to operate over 
multiple disjoint HDFS instances and scale beyond the limits of a single namenode. When 
used in conjunction with HDFS federation, multiple namenodes can share a pool 
of datanodes.</p>

<h2 id="integrityavailability">Integrity/Availability</h2>

<h3 id="master-fail-over">Master fail over</h3>

<p>Multiple masters can be configured.  Zookeeper locks are used to determine
which master is active.  The remaining masters simply wait for the current
master to lose its lock.  Current master state is held in the metadata table
and Zookeeper (see <a href="#fate">FATE</a>).</p>

<h3 id="logical-time">Logical time</h3>

<p>A mechanism to ensure that server set times never go backwards, even when time
across the cluster is incorrect. This ensures that updates and deletes are not
lost. If a tablet is served on machine with time a year in the future, then the
tablet will continue to issue new timestamps a year in the future, even when it
moves to another server. In this case the timestamps preserve ordering, but
lose their meaning. In addition to logical time, Accumulo has master
authoritative time. The master averages the time of all of the tablet servers
and sends this back to the tablet servers. Tablet servers use this information
to adjust the timestamps they issue. So logical time ensures ordering is
always correct and master authoritative time tries to ensure that timestamps
are meaningful.</p>

<h3 id="logical-time-for-bulk-import">Logical Time for bulk import</h3>

<p>Logical time as described above works with streaming (batch) ingest, where the
tablet server assigns the timestamp.  Logical time is also important for bulk
imported data, for which the client code may be choosing a timestamp.  Accumulo
uses specialized system iterators to lazily set times in a bulk imported
file.  This mechanism guarantees that times set by unsynchronized multi-node
applications (such as those running on MapReduce) will maintain some semblance
of causal ordering.  This mitigates the problem of the time being wrong on the
system that created the file for bulk import. These times are not set when the
file is imported, but whenever it is read by scans or compactions. At import, a
time is obtained and always used by the specialized system iterator to set that
time.</p>

<h3 id="fate">FATE</h3>

<p>Fault Tolerant Executor. A framework for executing operations in a fault
tolerant manner. In the previous release, if the master process died in the
middle of creating a table it could leave the system in an inconsistent state.
With this new framework, if the master dies in the middle of create table it
will continue on restart. Also, the client requesting the create table operation
will never know anything happened. The framework serializes work in Zookeeper
before attempting to do the work. Clients start a FATE transaction, seed it
with work, and then wait for it to finish. Most table operations are executed
using this framework. Persistent, per table, read-write locks are created in
Zookeeper to synchronize operations across process faults.</p>

<h3 id="scalable-master">Scalable master</h3>

<p>Stores its metadata in an Accumulo table and Zookeeper.</p>

<h3 id="isolation">Isolation</h3>

<p>Scans will not see data inserted into a row after the scan of that row begins.</p>

<h2 id="performance">Performance</h2>

<h3 id="relative-encoding">Relative encoding</h3>

<p>If consecutive keys have identical portions (row, colf, colq, or colvis), there
is a flag to indicate that a portion is the same as that of the previous key.
This is applied when keys are stored on disk and when transferred over the
network.  Starting with 1.5, prefix erasure is supported.  When it is cost 
effective, prefixes repeated in subsequent key fields are not repeated.</p>

<h3 id="native-in-memory-map">Native In-Memory Map</h3>

<p>By default, data written is stored outside of Java managed memory into a C++ STL
map of maps.  It maps rows to columns to values.  This hierarchical structure
improves performance of inserting a mutation with multiple column values in a
single row. A custom STL allocator is used to avoid the global malloc lock and
memory fragmentation.</p>

<h3 id="scan-pipeline">Scan pipeline</h3>

<p>A long running Accumulo scan will eventually cause multiple threads to start.
One server thread to read data from disk, one server thread to serialize and
send data, and one client thread to deserialize and read data. When pipelining
kicks in, it substantially increases scan speed while maintaining key order. It
does not activate for short scans.</p>

<h3 id="caching">Caching</h3>

<p>Recently scanned data is cached into memory.  There are separate caches for
indexes and data.  Caching can be turned on and off for individual tables.</p>

<h3 id="multi-level-rfile-index">Multi-level RFile Index</h3>

<p>RFiles store an index of the last key in each block. For large files, the index
can become quite large. When the index is large, a lot of memory is consumed and
files take a long time to open. To avoid this problem, RFiles have a
multi-level index tree. Index blocks can point to other index blocks or data
blocks. The entire index never has to be resident, even when the file is
written. When an index block exceeds the configurable size threshold, its
written out between data blocks. The size of index blocks is configurable on a
per table basis.</p>

<h3 id="binary-search-in-rfile-blocks">Binary search in RFile blocks</h3>

<p>RFile uses its index to locate a block of key values.  Once it reaches a block, 
it performs a linear scan to find a key of interest.  Accumulo will generate
indexes of cached blocks in an adaptive manner.  Accumulo indexes the most 
frequently read blocks.  When a block is read a few times, a small index
is generated.  As a block is read more, larger indexes are generated, making
future seeks faster. This strategy allows Accumulo to dynamically respond to
read patterns without precomputing block indexes when RFiles are written.</p>

<h2 id="testing">Testing</h2>

<h3 id="mock">Mock</h3>

<p>The Accumulo client API has a mock implementation that is useful writing unit
test against Accumulo. Mock Accumulo is in memory and in process.</p>

<h3 id="mini-accumulo-cluster">Mini Accumulo Cluster</h3>

<p>Mini Accumulo cluster is a set of utility code that makes it easy to spin up 
a local Accumulo instance running against the local filesystem.  Mini Accumulo
is slower than Mock Accumulo, but its behavior mirrors a real Accumulo 
instance more closely.</p>

<h3 id="accumulo-maven-plugin">Accumulo Maven Plugin</h3>

<p>Using the Mini Accumulo Cluster in unit and integration tests is a great way for
developers to test their applications against Accumulo in an environment that is
much closer to physical deployments than a Mock Accumulo environment. 
Accumulo 1.6.0 also introduced a <a href="/release/accumulo-1.6.0/#maven-plugin">maven-accumulo-plugin</a> which
can be used to start a Mini Accumulo Cluster instance as a part of the Maven
lifecycle that your application tests can use.</p>

<h3 id="functional-test">Functional Test</h3>

<p>Small, system-level tests of basic Accumulo features run in a test harness,
external to the build and unit-tests.  These tests start a complete Accumulo
instance, and require Hadoop and Zookeeper to be running.  They attempt to
simulate the basic functions of Accumulo, as well as common failure conditions,
such as lost disks, killed processes, and read-only file systems.</p>

<h3 id="scale-test">Scale Test</h3>

<p>A test suite that verifies data is not lost at scale. This test runs many
ingest clients that continually create linked lists containing 25 million
nodes. At some point the clients are stopped and a map reduce job is run to
ensure no linked list has a hole. A hole indicates data was lost by Accumulo.
The Agitator can be run in conjunction with this test to randomly kill tablet
servers. This test suite has uncovered many obscure data loss bugs.  This test
also helps find bugs that impact uptime and stability when run for days or
weeks.</p>

<h3 id="random-walk-test">Random Walk Test</h3>

<p>A test suite that looks for unexpected system states that may emerge in
plausible real-world applications.  Application components are defined as test
nodes (such as create table, insert data, scan data, delete table, etc.), and
are programmed as Java classes that implement a specified interface.  The nodes
are connected together in a graph specified in an XML document. Many processes
independently and concurrently execute a random walk of the test graphs. Some
of the test graphs have a concept of correctness and can verify data over time.
Other tests have no concept of data correctness and have the simple goal of
crashing Accumulo. Many obscure bugs have been uncovered by this testing
framework and subsequently corrected.</p>

<h2 id="client-api">Client API</h2>

<h3 id="batch-scanner">Batch Scanner</h3>

<p>The <a href="/1.9/accumulo_user_manual#_batchscanner">BatchScanner</a> takes a list of Ranges, batches them to the appropriate tablet servers, and
returns data as it is received (i.e. not in sorted order).</p>

<h3 id="batch-writer">Batch Writer</h3>

<p>The <a href="/1.9/accumulo_user_manual#_batchwriter">BatchWriter</a> client buffers writes in memory before sending them in batches to the
appropriate tablet servers.</p>

<h3 id="bulk-import">Bulk Import</h3>

<p>Instead of writing individual mutations to Accumulo, entire files of sorted key
value pairs can be imported using <a href="/1.9/accumulo_user_manual#_bulk_ingest">BulkImport</a>. These files are moved into the Accumulo directory
and referenced by Accumulo. This feature is useful for ingesting a large amount
of data. This method of ingest usually offers higher throughput at the cost of
higher latency for data availability for scans.  Usually, the data is sorted
using map reduce and then bulk imported. This method of ingest also allows for
flexibility in resource allocation.  The nodes running map reduce to sort data
could be different from the Accumulo nodes.</p>

<h3 id="mapreduce">MapReduce</h3>

<p>Accumulo can be a source and/or sink for <a href="/1.9/accumulo_user_manual#_analytics">MapReduce</a> jobs.</p>

<h3 id="apache-thrift-proxy">Apache Thrift Proxy</h3>

<p>The Accumulo client code contains a lot of complexity.  For example, the 
client code locates tablets, retries in the case of failures, and supports 
concurrent reading and writing.  All of this is written in Java.  The thrift
proxy wraps the Accumulo client API with thrift, making this API easily
available to other languages like Python, Ruby, C++, etc.</p>

<h3 id="conditional-mutations">Conditional Mutations</h3>

<p>In version 1.6.0, Accumulo introduced <a href="/1.9/accumulo_user_manual#_conditionalwriter">Conditional Mutations</a>
which allow users to perform efficient, atomic read-modify-write operations on rows. Conditions can
be defined using equality checks of the values in a column or the absence of a column. For more
information on using this feature, users can reference the Javadoc for <a href="/1.9/apidocs/org/apache/accumulo/core/data/ConditionalMutation">ConditionalMutation</a> and
<a href="/1.9/apidocs/org/apache/accumulo/core/client/ConditionalWriter">ConditionalWriter</a>.</p>

<h3 id="lexicoders">Lexicoders</h3>

<p>Common boilerplate code that exists when interacting with Accumulo is the conversion
of Java objects to lexicographically sorted bytes, e.g. ensure that the byte representation
of the number 9 sorts before the byte representation of the number 11. Version 1.6.0 introduced
Lexicoders which have numerous implementations that support for efficient translation from common
Java primitives to byte arrays and vice versa. These classes can greatly reduce the burden in
re-implementing common programming mistakes in encoding.</p>

<h2 id="extensible-behaviors">Extensible Behaviors</h2>

<h3 id="pluggable-balancer">Pluggable balancer</h3>

<p>Users can provide a balancer plugin that decides how to distribute tablets
across a table.  These plugins can be provided on a per table basis.  This is
useful for ensuring a particular table’s tablets are placed optimally for
tables with special query needs.  The default balancer randomly spreads each
table’s tablets across the cluster.  It takes into account where a tablet was
previously hosted to leverage locality.  When a tablet splits, the default
balancer moves one child to another tablet server.  The assumption here is that
splitting tablets are being actively written to, so this keeps write load evenly
spread.</p>

<h3 id="pluggable-memory-manager">Pluggable memory manager</h3>

<p>The plugin that decides when and what tablets to minor compact is configurable.
The default plugin compacts the largest tablet when memory is over a certain
threshold.  It varies the threshold over time depending on minor compaction
speed.  It flushes tablets that are not written to for a configurable time
period.</p>

<h3 id="pluggable-logger-assignment-strategy">Pluggable logger assignment strategy</h3>

<p>The plugin that decided which loggers should be assigned to which tablet
servers is configurable.</p>

<h3 id="pluggable-compaction-strategy">Pluggable compaction strategy</h3>

<p>The plugin that decides which files should be chosen for major compaction is now
configurable. Given certain workloads, it may be known that once data is written,
it is very unlikely that more data will be written to it, and thus paying the penalty
to re-write a large file can be avoided. Implementations of this compaction strategy
can be used to optimize the data that compactions will write.</p>

<h2 id="general-administration">General Administration</h2>

<h3 id="monitor-page">Monitor page</h3>

<p>A simple web server that provides basic information about the system health and
performance.  It displays table sizes, ingest and query statistics, server
load, and last-update information.  It also allows the user to view recent
diagnostic logs and traces.</p>

<h3 id="tracing">Tracing</h3>

<p>It can be difficult to determine why some operations are taking longer than
expected. For example, you may be looking up items with very low latency, but
sometimes the lookups take much longer. Determining the cause of the delay is
difficult because the system is distributed, and the typical lookup is fast.
Accumulo has been instrumented to record the time that various operations take
when tracing is turned on. The fact that tracing is enabled follows all the
requests made on behalf of the user throughout the distributed infrastructure
of Accumulo, and across all threads of execution.</p>

<h3 id="online-reconfiguration">Online reconfiguration</h3>

<p>System and per table configuration is stored in Zookeeper. Many, but not all,
configuration changes take effect while Accumulo is running. Some do not take
effect until server processes are restarted.</p>

<h3 id="table-renaming">Table renaming</h3>

<p>Tables can be renamed easily because Accumulo uses internal table IDs and
stores mappings between names and IDs in Zookeeper.</p>

<h2 id="internal-data-management">Internal Data Management</h2>

<h3 id="locality-groups">Locality groups</h3>

<p>Groups columns within a single file. There is a default locality group so that
not all columns need be specified. The locality groups can be restructured
while the table is online and the changes will take effect on the next
compaction.  A tablet can have files with different locality group
configurations.  In this case, scans may be suboptimal, but correct until
compactions rewrite all files.  After reconfiguring locality groups, a user can
force a table to compact in order to write all data into the new locality
groups.  Alternatively, the change could be allowed to happen over time as
writes to the table cause compactions to happen.</p>

<h3 id="smart-compaction-algorithm">Smart compaction algorithm</h3>

<p>It is inefficient to merge small files with large files.  Accumulo merges files
only if all files are larger than a configurable ratio (default is 3)
multiplied by the largest file size.  If this cannot be done with all the
files, the largest file is removed from consideration, and the remaining files
are considered for compaction.  This is done until there are no files to merge.</p>

<h3 id="merging-minor-compaction">Merging Minor Compaction</h3>

<p>When a max number of files per tablet is reached, minor compactions will merge
data from the in-memory map with the smallest file instead of creating new
files.  This throttles ingest.  In previous releases, new files were just created
even if major compactions were falling behind and the number of tablets per file
was growing.  Without this feature, ingest performance can roughly continue at a
constant rate, even as scan performance decreases because tablets have too many
files.</p>

<h3 id="loading-jars-using-vfs">Loading jars using VFS</h3>

<p>User written iterators are a useful way to manipulate data in data in Accumulo. 
Before 1.5, users had to copy their iterators to each tablet server.  Starting 
with 1.5, Accumulo can load iterators from HDFS using Apache commons VFS.</p>

<h3 id="encryption">Encryption</h3>

<p>Still a work in progress, Accumulo 1.6.0 introduced encryption at rest (RFiles
and WriteAheadLogs) and wire encryption (Thrift over SSL) to enhance the level 
of security that Accumulo provides. It is still a work in progress because the 
intermediate files created by Accumulo when recovering from a TabletServer
failure are not encrypted.</p>

<h2 id="on-demand-data-management">On-demand Data Management</h2>

<h3 id="compactions">Compactions</h3>

<p>Ability to force tablets to compact to one file. Even tablets with one file are
compacted.  This is useful for improving query performance, permanently
applying iterators, or using a new locality group configuration.  One example
of using iterators is applying a filtering iterator to remove data from a
table. Additionally, users can initiate a compaction with iterators only applied to
that compaction event.</p>

<h3 id="split-points">Split points</h3>

<p>Arbitrary split points can be added to an online table at any point in time.
This is useful for increasing ingest performance on a new table. It can also be
used to accommodate new data patterns in an existing table.</p>

<h3 id="tablet-merging">Tablet Merging</h3>

<p>Tablet merging is a new feature. Merging of tablets can be requested in the
shell; Accumulo does not merge tablets automatically. If desired, the METADATA
tablets can be merged.</p>

<h3 id="table-cloning">Table Cloning</h3>

<p>Allows users to quickly create a new table that references an existing table’s
data and copies its configuration. A cloned table and its source table can be
mutated independently. Testing was the motivating reason behind this new
feature. For example, to test a new filtering iterator, clone the table, add the
filter to the clone, and force a major compaction.</p>

<h3 id="importexport-table">Import/Export Table</h3>

<p>An offline tables metadata and files can easily be copied to another cluster and 
imported.</p>

<h3 id="compact-range">Compact Range</h3>

<p>Compact each tablet that falls within a row range down to a single file.</p>

<h3 id="delete-range">Delete Range</h3>

<p>Added an operation to efficiently delete a range of rows from a table. Tablets
that fall completely within a range are simply dropped. Tablets overlapping the
beginning and end of the range are split, compacted, and then merged.</p>

<h2 id="screenshots">Screenshots</h2>

<div class="row">
<div class="col-xs-3">
The following is a screenshot of the Apache Accumulo&reg; monitor overview web page.  Accumulo was running on an eleven node cluster.  The continuous ingest test suite was running to generate load.  Ten continuous ingest clients were running.
</div>
<div class="col-xs-9">
<a class="thumbnail" href="/images/overview2.png">
<img src="/images/overview2.png" alt="monitor overview" />
</a>
</div>
</div>

<div class="row">
<div class="col-xs-3">
The following screenshot shows the monitor master page.  This page gives information about individual tables within accumulo.  Continuous ingest is running against the table ci.
</div>
<div class="col-xs-9">
<a class="thumbnail" href="/images/master2.png">
<img src="/images/master2.png" alt="monitor master" />
</a>
</div>
</div>

<p>The data generated by the continuous ingest test suite looks like the following.  The data is random, but forms many giant linked list.  Each ingest client continually generates linked list containing 25 million nodes.  In the shell session below, a few scans are issued to start following the linked list that the first node in the table is part of.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@test15 ci&gt; scan 
000000000135fbbe 074c:569c []    2db1de18-cd37-407d-b060-481a0a214c90:000000002b2bcfe1:2e15cb9f62fd22ab:fe6f84c7
000000000d76dcc9 4f62:0647 []    65f401e8-4f93-498c-bffa-ecc21a8645fd:000000000e7c2bbc:6fad98d023b8f146:a2c4d59f
0000000024e07be4 5e56:221d []    5283b4bd-4f18-4af9-a242-c8053b095e04:000000001e1ad441:12de1d82f4a7bf2f:ae231a6a
000000003e13cb50 1d0a:415c []    5944afab-8407-4391-9994-91b313e545dd:0000000002d61c91:4890a8885e54b714:d542fafa
00000000634d0aaa 310d:1e58 []    2db1de18-cd37-407d-b060-481a0a214c90:000000000c9e8018:4111345bc9afe2bb:4cbfd774
000000007d378414 08d2:0066 []    15ab8578-faae-4ebb-9827-26728be78476:0000000052de5aac:06202f405c60726d:8ad4911a
000000008c3615d8 3868:5f66 []    8f47568c-a383-4910-83c9-36b75ac66440:0000000067faf572:750d567f3dd0c5bf:5ea938fe
0000000090be2a77 7f32:2ca4 []    8f47568c-a383-4910-83c9-36b75ac66440:000000005912be62:47ac0c7bb89013f1:dff13db9
00000000a7ca8e58 360f:5763 []    a9f5e129-e260-4a0e-a763-c6e3ef7b3eb6:0000000030bff255:37c8226225c804ba:665f261f
00000000f1000713 5079:46bd []    30af7f48-15ae-4ccb-81c9-4662ad74be92:0000000014d408e3:56a9dec63aed4d8f:0f2a44ec
000000017e3ca989 56ac:062b []    30af7f48-15ae-4ccb-81c9-4662ad74be92:000000000a8926a1:0bd54c769871aa78:b8e61d77
--------------------------------------- hit any key to continue or 'q' to quit -----------------------------------------
root@test15 ci&gt; scan -b 2e15cb9f62fd22ab -e 2e15cb9f62fd22ab
2e15cb9f62fd22ab 1fc1:1486 []    2db1de18-cd37-407d-b060-481a0a214c90:000000002b1c8da1:53a9e4ba97e4a6e0:4a8bd624
root@test15 ci&gt; scan -b 53a9e4ba97e4a6e0 -e 53a9e4ba97e4a6e0
53a9e4ba97e4a6e0 37f3:33a2 []    2db1de18-cd37-407d-b060-481a0a214c90:000000002b0d4b61:1c16a4ae1bef9f1f:f03c869b
root@test15 ci&gt; scan -b 1c16a4ae1bef9f1f -e 1c16a4ae1bef9f1f
1c16a4ae1bef9f1f 07c8:7cd3 []    2db1de18-cd37-407d-b060-481a0a214c90:000000002afe0921:2e3ec09a8d2fdf52:8b82be48
</code></pre></div></div>



    <div class="row" style="margin-top: 20px;">
      <div class="col-md-10"><strong>Find documentation for all releases in the <a href="/docs-archive">archive</strong></div>
      <div class="col-md-2"><a class="pull-right" href="https://github.com/apache/accumulo-website/edit/master/_docs-2/getting-started/features.md" role="button"><i class="glyphicon glyphicon-pencil"></i> <small>Edit this page</small></a></div>
    </div>  
  </div>
</div>

        </div>

        
<footer>

  <p><a href="https://www.apache.org/foundation/contributing"><img src="https://www.apache.org/images/SupportApache-small.png" alt="Support the ASF" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2018 <a href="https://www.apache.org">The Apache Software Foundation</a>.
Licensed under the <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.</p>

  <p>Apache®, the names of Apache projects and their logos, and the multicolor feather
logo are registered trademarks or trademarks of The Apache Software Foundation
in the United States and/or other countries.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
