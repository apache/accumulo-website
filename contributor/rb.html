<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" integrity="sha384-awusxf8AUojygHf2+joICySzB780jVvQaVCAt1clU3QsyAitLGul28Qxb2r1e5g+" crossorigin="anonymous">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jq-2.2.3/dt-1.10.12/datatables.min.css">
<link href="/css/accumulo.css" rel="stylesheet" type="text/css">

<title>Using Review Board</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-2.2.3/dt-1.10.12/datatables.min.js"></script>
<script>
  // show location of canonical site if not currently on the canonical site
  $(function() {
    var host = window.location.host;
    if (typeof host !== 'undefined' && host !== 'accumulo.apache.org') {
      $('#non-canonical').show();
    }
  });

  $(function() {
    // decorate section headers with anchors
    return $("h2, h3, h4, h5, h6").each(function(i, el) {
      var $el, icon, id;
      $el = $(el);
      id = $el.attr('id');
      icon = '<i class="fa fa-link"></i>';
      if (id) {
        return $el.append($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
      }
    });
  });
  
  // configure Google Analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  if (ga.hasOwnProperty('loaded') && ga.loaded === true) {
    ga('create', 'UA-50934829-1', 'apache.org');
    ga('send', 'pageview');
  }
</script>

</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-items">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/"><img id="nav-logo" alt="Apache Accumulo" class="img-responsive" src="/images/accumulo-logo.png" width="200"/></a>
    </div>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="nav navbar-nav">
        <li class="nav-link"><a href="/downloads">Download</a></li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Releases<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="/release/accumulo-1.8.1/">1.8.1 (Latest)</a></li>
          <li><a href="/release/accumulo-1.7.2/">1.7.2</a></li>
          <li><a href="/release/accumulo-1.6.6/">1.6.6</a></li>
          <li><a href="/release/">Archive</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="/1.8/accumulo_user_manual.html">User Manual (1.8)</a></li>
          <li><a href="/1.8/apidocs">Javadocs (1.8)</a></li>
          <li><a href="/1.8/examples">Examples (1.8)</a></li>
          <li><a href="/features">Features</a></li>
          <li><a href="/glossary">Glossary</a></li>
          <li><a href="/external-docs">External Docs</a></li>
          <li><a href="/docs-archive/">Archive</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="/get_involved">Get Involved</a></li>
          <li><a href="/mailing_list">Mailing Lists</a></li>
          <li><a href="/people">People</a></li>
          <li><a href="/related-projects">Related Projects</a></li>
          <li><a href="/contributor/">Contributor Guide</a></li>
        </ul>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Apache Software Foundation<span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="https://www.apache.org">Apache Homepage <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/licenses/LICENSE-2.0">License <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/foundation/sponsorship">Sponsorship <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/security">Security <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/foundation/thanks">Thanks <i class="fa fa-external-link"></i></a></li>
          <li><a href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <i class="fa fa-external-link"></i></a></li>
        </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <h1 class="title">Using Review Board</h1>
          
          <p>The Apache Software Foundation provides an <a href="https://reviews.apache.org">instance</a> of
<a href="https://www.reviewboard.org">Review Board</a> (RB) for projects to use in code reviews. Here is how RB can
be used to support development in the context of the
<a href="/contributor/bylaws">Apache Accumulo bylaws</a>.</p>

<p>Contributors to Accumulo are encouraged to use RB for non-trivial patches and
any time feedback is desired. No one is required to use RB, but its ready
availability and better interface for feedback can help with reviews. Committers
seeking review prior to pushing changes can also benefit similarly.</p>

<h2 id="roles-for-review-board">Roles for Review Board</h2>

<h3 id="optional-pre-commit-review">Optional Pre-Commit Review</h3>

<p>Accumulo operates under the <a href="https://www.apache.org/foundation/glossary#CommitThenReview">Commit-Then-Review</a> (CtR) policy, so code
review does not need to occur prior to commit. However, a committer may opt to
hold a code review before commit for changes that, in their opinion, would
benefit from additional attention. RB can be used to conduct such code reviews.</p>

<h3 id="consensus-approval-after-a-code-change-veto">Consensus Approval after a Code Change Veto</h3>

<p>Code changes are approved by lazy approval, with consensus approval following
a veto (see the <a href="/contributor/bylaws#actions">Actions</a> section of the bylaws). RB can be used
to coordinate a consensus approval vote by providing a convenient view of the
code change under consideration. The vote itself must still be held on the
developer mailing list.</p>

<h2 id="guidelines-for-posting-a-review">Guidelines for Posting a Review</h2>

<ul>
  <li>It is best to post a git-generated patch as the basis for a review. RB does
not support patches containing multiple commits, so either squash commits
first, or submit a diff spanning the changeset. The <code class="highlighter-rouge">rbt</code> and <code class="highlighter-rouge">post-review</code>
tools generate diffs.</li>
  <li>Strive to make your changes small. Reviewers are less likely to want to
trudge through a review with lots of changes, and are more likely to miss
problems.</li>
  <li>Begin the summary of the review with a JIRA issue number. A review must
always be associated with a JIRA issue. The issue number should also be
entered in the “Bugs” field of the review, providing a link to JIRA.</li>
  <li>The “Branch” field should contain the name of the branch that the code change
is based on (e.g., the base of your git feature branch).</li>
  <li>Include the “accumulo” user group as reviewers. Also include specific people
as individual reviewers, even if they are in the “accumulo” group, if you
deem them of primary importance for the review (e.g., you have been working
out problems with the review with them, they are expert in the area).</li>
  <li>Use the description to summarize the change under review. Include helpful
instructions to the reviewers here.</li>
  <li>Describe any testing done on the change. It is not expected that reviewers
will do their own testing, and they may reject the review if you have not
done sufficient testing yourself.</li>
  <li>Avoid submitting generated code for review if it can be reproduced by a
reviewer.</li>
</ul>

<p>After the review is published, set the status of the associated JIRA issue to
“Patch Available” as a signal to reviewers. Also, link to the review from the
issue (More -&gt; Link -&gt; Web Link) to help viewers of the issue find the review
and assess its progress.</p>

<h2 id="guidelines-for-reviewing-code">Guidelines for Reviewing Code</h2>

<ul>
  <li>Try to associate comments with relevant lines of code in the review.</li>
  <li>By default, each comment opens a review issue. If a comment pertains to
something that should not block the review from completing successfully, then
clear the “Open an issue” checkbox before saving your feedback. Examples that
might qualify as non-issues: minor formatting/whitespace issues, spelling
mistakes, general background questions.</li>
  <li>If a review looks good, be sure to “Ship It” by either using the “Ship It!”
button or by submitting a general review with the “Ship It” checkbox checked.</li>
</ul>

<h2 id="guidelines-for-completing-a-review">Guidelines for Completing a Review</h2>

<p>These guidelines do not apply to consensus approval votes, since the vote
completion depends on the votes registered in the developer mailing list.</p>

<ul>
  <li>Use your judgement for the number of “Ship It”s you want to receive to
consider a review passed. Usually, getting one “Ship It” is enough to proceed
with a commit. It is recommended that the “Ship It” be from a committer who
is a neutral party not involved in the change under review.</li>
  <li>Use your judgement for the minimum time length you set for the review. Simple
changes can be up for just a day, while complex ones should take up to seven.</li>
  <li>Review time should be extended in the face of problems discovered in the
review. Update the review with improved code instead of discarding (i.e.,
closing unsuccessfully) it and beginning a new one.</li>
  <li>A review should not be “submitted” (i.e., closed successfully) unless there
are no outstanding issues. Check with reviewers to ensure that their issues
are resolved satisfactorily.</li>
  <li>A review should be “discarded” if the code requires major rework or it
becomes obvious it should never be committed (due to design changes,
becoming overcome by events, being back-burnered, etc.).</li>
  <li>Don’t leave a review open indefinitely. Once you have received sufficient
feedback to submit or discard it, do so. If there has been no activity for
some time, discard the review. A new one can always be created later.</li>
</ul>

<p>Once you’ve closed a review as submitted, if you are unable to commit your
changes yourself, attach the final version of them to the relevant JIRA issue.
They should be in the form of a patch containing a single commit,
<a href="/contributor/git#contributors">per the final steps of the contribution process</a>.</p>


        </div>

        
<footer>

  <p><a href="https://www.apache.org"><img src="/images/feather-small.gif" alt="Apache Software Foundation" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2017 The Apache Software Foundation. Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
