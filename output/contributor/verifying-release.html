<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" href="/css/bootstrap/5.3.3/dist/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="/css/fontawesome/fontawesome-free-6.6.0-web/css/all.css">
<link rel="stylesheet" type="text/css" href="/css/datatables/bs5/dt-2.0.8/datatables.css">
<link rel="stylesheet" type="text/css" href="/css/accumulo.css">

<title>Verifying a Release</title>

<script type="text/javascript" src="/js/jquery/3.7.1/jquery.js"></script>
<script type="text/javascript" src="/js/bootstrap/5.3.3/dist/js/bootstrap.bundle.js"></script>
<script type="text/javascript" src="/js/datatables/bs5/dt-2.0.8/datatables.js"></script>
<script type="text/javascript" src="https://www.apachecon.com/event-images/snippet.js"></script>
<script type="text/javascript" src="/js/accumulo.js"></script>
</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-light">
  <div class="container">
    <a class="navbar-brand" href="/">
      <img alt="Apache Accumulo" id="nav-logo" src="/images/accumulo-logo.png" width="200">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-items">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="/downloads">Download</a></li>
        <li class="nav-item"><a class="nav-link" href="/tour">Tour</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Releases</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/release/accumulo-3.0.0/">3.0.0 (Latest non-LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-2.1.4/">2.1.4 (Latest LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-1.10.4/">1.10.4 (Legacy LTM)</a></li>
            <li><a class="dropdown-item" href="/release/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Documentation</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/docs/2.x">User Manual (2.x)</a></li>
            <li><a class="dropdown-item" href="/docs/2.x/apidocs">Javadocs (2.x)</a></li>
            <li><a class="dropdown-item" href="/api">Public API</a></li>
            <li><a class="dropdown-item" href="/quickstart-1.x">Quickstart (1.x)</a></li>
            <li><a class="dropdown-item" href="/accumulo2-maven-plugin">Accumulo Maven Plugin</a></li>
            <li><a class="dropdown-item" href="/1.10/accumulo_user_manual.html">User Manual (1.10)</a></li>
            <li><a class="dropdown-item" href="/1.10/apidocs">Javadocs (1.10)</a></li>
            <li><a class="dropdown-item" href="/external-docs">External Docs</a></li>
            <li><a class="dropdown-item" href="/docs-archive/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Community</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/contact-us">Contact Us</a></li>
            <li><a class="dropdown-item" href="/how-to-contribute">How To Contribute</a></li>
            <li><a class="dropdown-item" href="/people">People</a></li>
            <li><a class="dropdown-item" href="/related-projects">Related Projects</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="/search">Search</a></li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <img alt="Apache Software Foundation" src="https://www.apache.org/foundation/press/kit/feather.svg" width="15"/>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="https://www.apache.org">Apache Homepage <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/licenses/">License <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship">Sponsorship <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/security">Security <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/thanks">Thanks <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/policies/privacy.html">Privacy Policy<span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/events/current-event.html">Current Event <span class="fa-solid fa-up-right-from-square"></span></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <h1 class="title">Verifying a Release</h1>
          
          <p>This is a guide to help verify the quality of a release or release candidate. The testing described
here is not a requirement of the Foundation, but may be useful to help PMC members decide how they
wish to vote for a release candidate.</p>

<h2 id="versioning">Versioning</h2>

<p>Accumulo has adopted <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a> and follows their rules and guidelines.</p>

<h2 id="testing-basics">Testing basics</h2>

<p>Each release of Accumulo should be tested by the community to verify correctness.</p>

<p>Below are some suggested tests that can be run (feel free to run your own custom tests too):</p>

<ul>
  <li>Run only Accumulo’s unit tests and build the software using <code class="language-plaintext highlighter-rouge">mvn package</code></li>
  <li>Run Accumulo’s unit and integration tests using <code class="language-plaintext highlighter-rouge">mvn verify</code></li>
  <li>Build the <a href="https://github.com/apache/accumulo-examples">Accumulo Examples</a> repo using the release candidate by updating the
<code class="language-plaintext highlighter-rouge">accumulo.version</code> property in the <code class="language-plaintext highlighter-rouge">pom.xml</code> and using the staging repo. Also, run the
unit/integration tests using <code class="language-plaintext highlighter-rouge">mvn verify</code>.</li>
  <li>Run Accumulo’s distributed tests (i.e. random walk, continuous ingest). These tests are intended
to be run for hours or days, optionally injecting faults into the system through “agitation”.
These tests simulate behaviors that can occur on a real deployment. Starting with 2.0, these tests
are run using the <a href="https://github.com/apache/accumulo-testing">Accumulo Testing repo</a>. See the <a href="https://github.com/apache/accumulo-testing/blob/main/README.md">README.md</a> for more
information. Before 2.0, these tests are found in Accumulo tarball at <code class="language-plaintext highlighter-rouge">test/system/randomwalk</code> and
<code class="language-plaintext highlighter-rouge">test/system/continuous</code> which include instructions on how to run the tests.</li>
</ul>

<h2 id="project-testing-goals">Project testing goals</h2>

<p>While contributors do not need perform all tests, there should a minimum amount of testing done by
the project as whole before a release. The testing that the developers do are documented in the
release notes for that release.</p>

<p>Testing for an Accumulo release includes a few steps that a developer may take without a Hadoop
cluster and several that require a working cluster. For minor releases, the tests which run on a
Hadoop cluster are recommended to be completed but are not required. Running even a reduced set of
tests against real hardware is always encouraged even if the full test suite (in breadth of nodes or
duration) is not executed. New major releases are expected to receive more comprehensive testing,
because they contain a greater number of changes and require more vetting.</p>

<p>If PMC members do not believe adequate testing was performed for the sake of making the proposed
release, they may vote <code class="language-plaintext highlighter-rouge">-0</code> or <code class="language-plaintext highlighter-rouge">-1</code> on that release and are encouraged to assist with testing the
release to their satisfaction.</p>

<h3 id="stand-alone">Stand alone</h3>

<p>The following steps can be taken without having an underlying cluster. They should be handled with
each Hadoop profile available for a given release version. To activate an alternative profile
specify e.g. <code class="language-plaintext highlighter-rouge">-Dhadoop.profile=2</code> for the Hadoop 2 profile on the Maven commandline. Some older
versions of Accumulo referred to Hadoop profiles differently; see the README that came with said
versions for details on building against different Hadoop versions, or its release notes.</p>

<ul>
  <li>All JUnit tests should pass. This should be a requirement of any patch so it should never be an
issue during a release.
    <ul>
      <li>Use <code class="language-plaintext highlighter-rouge">mvn package</code> to run against the default profile of a particular release</li>
      <li>Use <code class="language-plaintext highlighter-rouge">mvn -Dhadoop.profile=2 package</code> to test against the Hadoop 2 profile (not applicable to
all versions)</li>
    </ul>
  </li>
  <li>Analyze output of static analysis tools like spotbugs and PMD.</li>
  <li>For versions 1.6 and later, all integration tests should pass via the Maven failsafe plugin.
    <ul>
      <li>Use <code class="language-plaintext highlighter-rouge">mvn verify</code> to run against the default profile of a particular release</li>
      <li>Use <code class="language-plaintext highlighter-rouge">mvn -Dhadoop.profile=2 verify</code> to run the tests against the Hadoop 2 profile (not
applicable to all versions)</li>
    </ul>
  </li>
</ul>

<h3 id="cluster-based">Cluster based</h3>

<p>The following tests require a Hadoop cluster running a minimum of HDFS, MapReduce, and ZooKeeper.
The cluster may have any number of worker nodes; it can even be a single node in pseudo-distributed
mode. A cluster with multiple tablet servers should be used so that more of the code base will be
exercised. For the purposes of release testing, you should note the number of nodes and versions
used. See the Releasing section for more details. These are only example of cluster tests. You may
run more or less tests. Information about these can be found in the <a href="https://github.com/apache/accumulo-testing">Accumulo Testing repo</a>.</p>

<ul>
  <li>Two 24-hour periods of the <code class="language-plaintext highlighter-rouge">LongClean</code> module of the RandomWalk test without unexpected errors,
one with agitation, and one without</li>
  <li>Two 24-hour periods of the continuous ingest test, with successful verification, one with
agitation and one without</li>
  <li>A 24-hour period of the bulk continuous ingest test, with successful verification</li>
  <li>A 72-hour period of continuous ingest without verification, but check the logs for any errors
and ensure the cluster is still functional</li>
</ul>

<h2 id="foundation-level-requirements">Foundation Level Requirements</h2>

<p>The ASF requires that all artifacts in a release are cryptographically signed and distributed with
hashes.</p>

<p>PGP/GPG is an asymmetric encryption scheme which lends itself well to the globally distributed
nature of Apache. Verification of a release artifact can be done using the signature and the
release-maker’s public key (e.g. <code class="language-plaintext highlighter-rouge">gpg --import KEYS; gpg --verify *.asc</code>). Hashes can be verified
using the appropriate command (e.g. <code class="language-plaintext highlighter-rouge">sha512sum -c *.sha512</code>)</p>

<p>An Apache release must contain a source-only artifact. This is the official release artifact. While
a release of an Apache project can contain other artifacts that do contain binary files. These
non-source artifacts are for user convenience only, but still must adhere to the same licensing
rules.</p>

<p>PMC members should take steps to verify that the source-only artifact does not contain any binary
files. There is some leeway in this rule. For example, test-only binary artifacts (such as test
files or jars) are acceptable as long as they are only used for testing the software and not running
it.</p>

<p>The following are the aforementioned Foundation-level documents provided for reference:</p>

<ul>
  <li><a href="https://www.apache.org/dev/apply-license">Applying the Apache Software License</a></li>
  <li><a href="https://www.apache.org/legal/src-headers">Legal’s license application guidelines</a></li>
  <li><a href="https://www.apache.org/legal/resolved">Common legal-discuss mailing list questions/resolutions</a></li>
  <li><a href="https://www.apache.org/legal">ASF Legal Affairs Page</a></li>
</ul>

<h2 id="apache-software-license-application">Apache Software License Application</h2>

<p>Application of the Apache Software License v2 consists of the following steps on each artifact in a
release. It’s important to remember that for artifacts that contain other artifacts (e.g. a tarball
that contains JAR files), both the tarball and JAR files are subject to the following rules.</p>

<p>The difficulty in verifying each artifact is that, often times, each artifact requires a different
LICENSE and NOTICE file. For example, the Accumulo binary tarball must contain appropriate LICENSE
and NOTICE files considering the bundled jar files in <code class="language-plaintext highlighter-rouge">lib/</code>. The Accumulo source tarball would not
contain these same contents in the LICENSE and NOTICE files as it does not contain those same JARs.</p>

<h3 id="license-file">LICENSE file</h3>

<p>The LICENSE file should be present at the top-level of the artifact. This file should be explicitly
named <code class="language-plaintext highlighter-rouge">LICENSE</code>. This file contains the text of the Apache Software License at the top of the file.
At the bottom of the file, all other open source licenses <em>contained in the given artifact</em> must be
listed at the bottom of the LICENSE file. Contained components that are licensed with the ASL
themselves do not need to be included in this file. It is common to see inclusions in file such as
the MIT License of 3-clause BSD License.</p>

<h3 id="notice-file">NOTICE file</h3>

<p>The NOTICE file should be present at the top-level of the artifact beside the LICENSE file. This
file should be explicitly named <code class="language-plaintext highlighter-rouge">NOTICE</code>. This file contains the copyright notice for the artifact
being released. As a reminder, the copyright is held by the Apache Software Foundation, not the
individual project.</p>

<p>The purpose this file serves is to distribute required third-party copyright notices from dependent
software. Specifically, other code which is licensed with the ASLv2 may also contain a NOTICE file.
If such an artifact which contains a NOTICE file is contained in artifact being verified for
releases, the contents of the contained artifact’s NOTICE file should be appended to this artifact’s
NOTICE file. For example, Accumulo bundles the Apache Thrift libthrift JAR file which also have its
own NOTICE file. The required contents of the Apache Thrift NOTICE file should be included within
Accumulo’s NOTICE file. Redundant notices, such as duplicate entries for the Apache Software
Foundation should be omitted. This file should only contain required notices, and nothing else.</p>


        </div>

        
<footer>

  <p><a href="https://www.apache.org/foundation/contributing"><img src="https://www.apache.org/images/SupportApache-small.png" alt="Support the ASF" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2025 <a href="https://www.apache.org">The Apache Software Foundation</a>.
Licensed under the <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.</p>

  <p>Apache®, the names of Apache projects and their logos, and the multicolor feather
logo are registered trademarks or trademarks of The Apache Software Foundation
in the United States and/or other countries.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
