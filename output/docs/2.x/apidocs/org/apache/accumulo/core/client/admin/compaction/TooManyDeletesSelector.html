<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>TooManyDeletesSelector (Apache Accumulo Project 2.1.3 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.accumulo.core.client.admin.compaction, class: TooManyDeletesSelector">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/TooManyDeletesSelector.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.accumulo.core.client.admin.compaction</a></div>
<h1 title="Class TooManyDeletesSelector" class="title">Class TooManyDeletesSelector</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.accumulo.core.client.admin.compaction.TooManyDeletesSelector</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="CompactionSelector.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">TooManyDeletesSelector</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="CompactionSelector.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector</a></span></div>
<div class="block">This compaction selector works in concert with the <a href="../../summary/summarizers/DeletesSummarizer.html" title="class in org.apache.accumulo.core.client.summary.summarizers"><code>DeletesSummarizer</code></a>. Using the
 statistics from DeleteSummarizer this strategy will compact all files in a table when the number
 of deletes/non-deletes exceeds a threshold.

 <p>
 This strategy has two options. First the <a href="#THRESHOLD_OPT">"threshold"</a> option allows setting the point
 at which a compaction will be triggered. This options defaults to <a href="#THRESHOLD_OPT_DEFAULT">".25"</a>
 and must be in the range (0.0, 1.0]. The second option is <a href="#PROCEED_ZERO_NO_SUMMARY_OPT">"proceed_zero_no_summary"</a>
 which determines if the strategy should proceed when a bulk imported file has no summary
 information.

 <p>
 If the delete summarizer was configured on a table that already had files, then those files will
 have not summary information. This strategy can still proceed in this situation. It will fall
 back to using Accumulo's estimated entries per file in this case. For the files without summary
 information the estimated number of deletes will be zero. This fall back method will
 underestimate deletes which will not lead to false positives, except for the case of bulk
 imported files. Accumulo estimates that bulk imported files have zero entries. The second option
 <a href="#PROCEED_ZERO_NO_SUMMARY_OPT">"proceed_zero_no_summary"</a> determines if this strategy should proceed when it sees
 bulk imported files that do not have summary data. This option defaults to
 <a href="#PROCEED_ZERO_NO_SUMMARY_OPT_DEFAULT">"false"</a>.

 <p>
 Bulk files can be generated with summary information by calling
 <a href="../../rfile/RFile.WriterOptions.html#withSummarizers(org.apache.accumulo.core.client.summary.SummarizerConfiguration...)"><code>RFile.WriterOptions.withSummarizers(SummarizerConfiguration...)</code></a>

 <p>
 When using this feature, its important to ensure summary cache is on and the summaries fit in the
 cache.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.1.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.apache.accumulo.core.client.admin.compaction.CompactionSelector">Nested classes/interfaces inherited from interface&nbsp;org.apache.accumulo.core.client.admin.compaction.<a href="CompactionSelector.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector</a></h2>
<code><a href="CompactionSelector.InitParameters.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector.InitParameters</a>, <a href="CompactionSelector.Selection.html" title="class in org.apache.accumulo.core.client.admin.compaction">CompactionSelector.Selection</a>, <a href="CompactionSelector.SelectionParameters.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector.SelectionParameters</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#PROCEED_ZERO_NO_SUMMARY_OPT" class="member-name-link">PROCEED_ZERO_NO_SUMMARY_OPT</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#PROCEED_ZERO_NO_SUMMARY_OPT_DEFAULT" class="member-name-link">PROCEED_ZERO_NO_SUMMARY_OPT_DEFAULT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#THRESHOLD_OPT" class="member-name-link">THRESHOLD_OPT</a></code></div>
<div class="col-last even-row-color">
<div class="block">This option should be a floating point number between 1 and 0.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#THRESHOLD_OPT_DEFAULT" class="member-name-link">THRESHOLD_OPT_DEFAULT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The default threshold.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">TooManyDeletesSelector</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#init(org.apache.accumulo.core.client.admin.compaction.CompactionSelector.InitParameters)" class="member-name-link">init</a><wbr>(<a href="CompactionSelector.InitParameters.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector.InitParameters</a>&nbsp;iparams)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CompactionSelector.Selection.html" title="class in org.apache.accumulo.core.client.admin.compaction">CompactionSelector.Selection</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#select(org.apache.accumulo.core.client.admin.compaction.CompactionSelector.SelectionParameters)" class="member-name-link">select</a><wbr>(<a href="CompactionSelector.SelectionParameters.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector.SelectionParameters</a>&nbsp;sparams)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="THRESHOLD_OPT">
<h3>THRESHOLD_OPT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">THRESHOLD_OPT</span></div>
<div class="block">This option should be a floating point number between 1 and 0.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#org.apache.accumulo.core.client.admin.compaction.TooManyDeletesSelector.THRESHOLD_OPT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="THRESHOLD_OPT_DEFAULT">
<h3>THRESHOLD_OPT_DEFAULT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">THRESHOLD_OPT_DEFAULT</span></div>
<div class="block">The default threshold.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#org.apache.accumulo.core.client.admin.compaction.TooManyDeletesSelector.THRESHOLD_OPT_DEFAULT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="PROCEED_ZERO_NO_SUMMARY_OPT">
<h3>PROCEED_ZERO_NO_SUMMARY_OPT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">PROCEED_ZERO_NO_SUMMARY_OPT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#org.apache.accumulo.core.client.admin.compaction.TooManyDeletesSelector.PROCEED_ZERO_NO_SUMMARY_OPT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="PROCEED_ZERO_NO_SUMMARY_OPT_DEFAULT">
<h3>PROCEED_ZERO_NO_SUMMARY_OPT_DEFAULT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">PROCEED_ZERO_NO_SUMMARY_OPT_DEFAULT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../../constant-values.html#org.apache.accumulo.core.client.admin.compaction.TooManyDeletesSelector.PROCEED_ZERO_NO_SUMMARY_OPT_DEFAULT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>TooManyDeletesSelector</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TooManyDeletesSelector</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="init(org.apache.accumulo.core.client.admin.compaction.CompactionSelector.InitParameters)">
<h3>init</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">init</span><wbr><span class="parameters">(<a href="CompactionSelector.InitParameters.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector.InitParameters</a>&nbsp;iparams)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CompactionSelector.html#init(org.apache.accumulo.core.client.admin.compaction.CompactionSelector.InitParameters)">init</a></code>&nbsp;in interface&nbsp;<code><a href="CompactionSelector.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="select(org.apache.accumulo.core.client.admin.compaction.CompactionSelector.SelectionParameters)">
<h3>select</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CompactionSelector.Selection.html" title="class in org.apache.accumulo.core.client.admin.compaction">CompactionSelector.Selection</a></span>&nbsp;<span class="element-name">select</span><wbr><span class="parameters">(<a href="CompactionSelector.SelectionParameters.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector.SelectionParameters</a>&nbsp;sparams)</span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="CompactionSelector.html#select(org.apache.accumulo.core.client.admin.compaction.CompactionSelector.SelectionParameters)">select</a></code>&nbsp;in interface&nbsp;<code><a href="CompactionSelector.html" title="interface in org.apache.accumulo.core.client.admin.compaction">CompactionSelector</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2011&#x2013;2024 <a href="https://www.apache.org">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
