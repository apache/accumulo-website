<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>org.apache.accumulo.core.spi.compaction (Apache Accumulo Project 2.1.3 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.accumulo.core.spi.compaction">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li>Related Packages&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package org.apache.accumulo.core.spi.compaction" class="title">Package org.apache.accumulo.core.spi.compaction</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.apache.accumulo.core.spi.compaction</span></div>
<section class="package-description" id="package-description">
<div class="block">This package provides a place for plugin interfaces related to executing compactions. The diagram
 below shows the functional components in Accumulo related to compactions. Not all of these
 components are pluggable, but understanding how everything fits together is important for writing
 a plugin.

 <p>
 <img src="doc-files/compaction-spi-design.png" alt="Compaction design diagram">

 <p>
 The following is a description of each functional component.

 <ul>
 <li><b>Compaction Manager</b> A non pluggable component within the tablet server that brings all
 other components together. The manager will route compactables to compaction services. For each
 kind of compaction, an individual compactable will be routed to a single compaction service. For
 example its possible that compactable C1 is routed to service S1 for user compactions and service
 S2 for system compactions.
 <ul>
 <li><b>Compaction Service</b> A non pluggable component that compacts tablets. One or more of
 these are created based on user configuration. Users can assign a table to a compaction service.
 Has a single compaction planner and one ore more compaction executors.
 <ul>
 <li><b>Compaction Executor</b> A non pluggable component that executes compactions using multiple
 threads and has a priority queue.
 <li><b>Compaction Planner</b> A pluggable component that can be configured by users when they
 configure a compaction service. It makes decisions about which files to compact on which
 executors. See <a href="CompactionPlanner.html" title="interface in org.apache.accumulo.core.spi.compaction"><code>CompactionPlanner</code></a>,
 <a href="CompactionPlanner.html#makePlan(org.apache.accumulo.core.spi.compaction.CompactionPlanner.PlanningParameters)"><code>CompactionPlanner.makePlan(org.apache.accumulo.core.spi.compaction.CompactionPlanner.PlanningParameters)</code></a>,
 and <a href="DefaultCompactionPlanner.html" title="class in org.apache.accumulo.core.spi.compaction"><code>DefaultCompactionPlanner</code></a>
 </ul>
 </ul>
 <ul>
 <li><b>Compactable</b> A non pluggable component that wraps a Tablet and per table pluggable
 compaction components. It tracks all information about one or more running compactions that is
 needed by a compaction service in a thread safe manor. There is a 1 to 1 relationship between
 compactables and tablets.
 <ul>
 <li><b>Compaction Configurer</b> A pluggable component that can optionally be configured per
 table to dynamically configure file output settings. This supports use cases like using snappy
 for small files and gzip for large files. See
 <a href="../../client/admin/compaction/CompactionConfigurer.html" title="interface in org.apache.accumulo.core.client.admin.compaction"><code>CompactionConfigurer</code></a>
 <li><b>Compaction Dispatcher</b> A pluggable component component that decides which compaction
 service a table should use for different kinds of compactions. This is configurable by users per
 table. See <a href="CompactionDispatcher.html" title="interface in org.apache.accumulo.core.spi.compaction"><code>CompactionDispatcher</code></a>
 <li><b>Compaction Selector</b> A pluggable component that can optionally be configured per table
 to periodically select files to compact. This supports use cases like periodically compacting all
 files because there are too many deletes. See
 <a href="../../client/admin/compaction/CompactionSelector.html" title="interface in org.apache.accumulo.core.client.admin.compaction"><code>CompactionSelector</code></a>
 <li><b>Compaction Strategy</b> A deprecated pluggable component replaced by the Selector and
 Configurer. See <code>org.apache.accumulo.core.client.admin.CompactionStrategyConfig</code>'s own
 documentation for more information about why it was deprecated.
 </ul>
 </ul>
 </ul></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><code>org.apache.accumulo.core.spi</code></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab3" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab3', 2)" class="table-tab">Enums</button></div>
<div id="class-summary.tabpanel" role="tabpanel" aria-labelledby="class-summary-tab0">
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="CompactionDispatch.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionDispatch</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">The dispatch of a <a href="CompactionDispatcher.html" title="interface in org.apache.accumulo.core.spi.compaction"><code>CompactionDispatcher</code></a></div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CompactionDispatch.Builder.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionDispatch.Builder</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">&nbsp;</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="CompactionDispatch.ServiceBuilder.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionDispatch.ServiceBuilder</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Required service parameter for <a href="CompactionDispatch.html" title="interface in org.apache.accumulo.core.spi.compaction"><code>CompactionDispatch</code></a></div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CompactionDispatcher.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionDispatcher</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Can be configured per table to dispatch compactions to different compaction services.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="CompactionDispatcher.DispatchParameters.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionDispatcher.DispatchParameters</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">The method parameters for <a href="CompactionDispatcher.html#dispatch(org.apache.accumulo.core.spi.compaction.CompactionDispatcher.DispatchParameters)"><code>CompactionDispatcher.dispatch(DispatchParameters)</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CompactionDispatcher.InitParameters.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionDispatcher.InitParameters</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">The method parameters for <a href="CompactionDispatcher.html#init(org.apache.accumulo.core.spi.compaction.CompactionDispatcher.InitParameters)"><code>CompactionDispatcher.init(InitParameters)</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="CompactionExecutorId.html" title="class in org.apache.accumulo.core.spi.compaction">CompactionExecutorId</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A unique identifier for a a compaction executor that a <a href="CompactionPlanner.html" title="interface in org.apache.accumulo.core.spi.compaction"><code>CompactionPlanner</code></a> can schedule
 compactions on using a <a href="CompactionJob.html" title="interface in org.apache.accumulo.core.spi.compaction"><code>CompactionJob</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CompactionJob.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionJob</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">An immutable object that describes what files to compact and where to compact them.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab3"><a href="CompactionKind.html" title="enum in org.apache.accumulo.core.spi.compaction">CompactionKind</a></div>
<div class="col-last even-row-color class-summary class-summary-tab3">&nbsp;</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CompactionPlan.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionPlan</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">The return value of <a href="CompactionPlanner.html#makePlan(org.apache.accumulo.core.spi.compaction.CompactionPlanner.PlanningParameters)"><code>CompactionPlanner.makePlan(PlanningParameters)</code></a> that is created using
 <a href="CompactionPlanner.PlanningParameters.html#createPlanBuilder()"><code>CompactionPlanner.PlanningParameters.createPlanBuilder()</code></a></div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="CompactionPlan.Builder.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionPlan.Builder</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">&nbsp;</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CompactionPlanner.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionPlanner</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Plans compaction work for a compaction service.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="CompactionPlanner.InitParameters.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionPlanner.InitParameters</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">This interface exists so the API can evolve and additional parameters can be passed to the
 method in the future.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CompactionPlanner.PlanningParameters.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionPlanner.PlanningParameters</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">This interface exists so the API can evolve and additional parameters can be passed to the
 method in the future.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="CompactionServiceId.html" title="class in org.apache.accumulo.core.spi.compaction">CompactionServiceId</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A unique identifier for a compaction service</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CompactionServices.html" title="interface in org.apache.accumulo.core.spi.compaction">CompactionServices</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Provider of information about configured compaction services.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="DefaultCompactionPlanner.html" title="class in org.apache.accumulo.core.spi.compaction">DefaultCompactionPlanner</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Finds the largest continuous set of small files that meet the compaction ratio and do not prevent
 future compactions.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="ExecutorManager.html" title="interface in org.apache.accumulo.core.spi.compaction">ExecutorManager</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Offered to a Compaction Planner at initialization time so it can create executors.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SimpleCompactionDispatcher.html" title="class in org.apache.accumulo.core.spi.compaction">SimpleCompactionDispatcher</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Dispatcher that supports simple configuration for making tables use compaction services.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2011&#x2013;2024 <a href="https://www.apache.org">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
