<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs5/dt-1.13.6/datatables.min.css">
<link href="/css/accumulo.css" rel="stylesheet" type="text/css">

<title>Accumulo Documentation - Features</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs5/dt-1.13.6/datatables.min.js"></script>
<script type="text/javascript" src="https://www.apachecon.com/event-images/snippet.js"></script>
<script>
  // show location of canonical site if not currently on the canonical site
  $(function() {
    var host = window.location.host;
    if (typeof host !== 'undefined' && host !== 'accumulo.apache.org') {
      $('#non-canonical').show();
    }
  });

  $(function() {
    // decorate section headers with anchors
    return $("h2, h3, h4, h5, h6").not(".accordion-header").each(function(i, el) {
      var $el, icon, id;
      $el = $(el);
      id = $el.attr('id');
      icon = '<span class="fa-solid fa-link"></span>';
      if (id) {
        return $el.append($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
      }
    });
  });

  // fix sidebar width in documentation
  $(function() {
    var $affixElement = $('div[data-spy="affix"]');
    $affixElement.width($affixElement.parent().width());
  });
</script>

</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-light">
  <div class="container">
    <a class="navbar-brand" href="/">
      <img alt="Apache Accumulo" id="nav-logo" src="/images/accumulo-logo.png" width="200">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-items">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="/downloads">Download</a></li>
        <li class="nav-item"><a class="nav-link" href="/tour">Tour</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Releases</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/release/accumulo-3.0.0/">3.0.0 (Latest non-LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-2.1.2/">2.1.2 (Latest LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-1.10.3/">1.10.3 (Legacy LTM)</a></li>
            <li><a class="dropdown-item" href="/release/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Documentation</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/docs/2.x">User Manual (2.x)</a></li>
            <li><a class="dropdown-item" href="/docs/2.x/apidocs">Javadocs (2.x)</a></li>
            <li><a class="dropdown-item" href="/api">Public API</a></li>
            <li><a class="dropdown-item" href="/quickstart-1.x">Quickstart (1.x)</a></li>
            <li><a class="dropdown-item" href="/accumulo2-maven-plugin">Accumulo Maven Plugin</a></li>
            <li><a class="dropdown-item" href="/1.10/accumulo_user_manual.html">User Manual (1.10)</a></li>
            <li><a class="dropdown-item" href="/1.10/apidocs">Javadocs (1.10)</a></li>
            <li><a class="dropdown-item" href="/external-docs">External Docs</a></li>
            <li><a class="dropdown-item" href="/docs-archive/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Community</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/contact-us">Contact Us</a></li>
            <li><a class="dropdown-item" href="/how-to-contribute">How To Contribute</a></li>
            <li><a class="dropdown-item" href="/people">People</a></li>
            <li><a class="dropdown-item" href="/related-projects">Related Projects</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="/search">Search</a></li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <img alt="Apache Software Foundation" src="https://www.apache.org/foundation/press/kit/feather.svg" width="15"/>
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://www.apache.org">Apache Homepage <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/licenses/">License <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship">Sponsorship <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/security">Security <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/thanks">Thanks <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/events/current-event.html">Current Event <span class="fa-solid fa-up-right-from-square"></span></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <div class="row">
  <div class="col-md-3">
    <div class="accordion sticky-top" id="myAccordion" style="top: 100px;">
      
      
      
        
          
        
          
        
          
        
          
            <div class="accordion-item">
              <div class="accordion-header fs-5 fw-bold" id="headinggetting-started">
                <button class="accordion-button " type="button" data-bs-toggle="collapse" data-bs-target="#collapsegetting-started" aria-expanded="true" aria-controls="collapsegetting-started">
                  Getting started
                </button>
              </div>
              <div id="collapsegetting-started" class="accordion-collapse collapse show" aria-labelledby="headinggetting-started" data-bs-parent="#myAccordion">
                <div class="accordion-body">
                  
                  
                    <div class="row"><a href="/docs/2.x/getting-started/quickstart">Setup</a></div>
                  
                    <div class="row"><a href="/docs/2.x/getting-started/design">Design</a></div>
                  
                    <div class="row selected"><a href="/docs/2.x/getting-started/features">Features</a></div>
                  
                    <div class="row"><a href="/docs/2.x/getting-started/clients">Accumulo Clients</a></div>
                  
                    <div class="row"><a href="/docs/2.x/getting-started/shell">Accumulo Shell</a></div>
                  
                    <div class="row"><a href="/docs/2.x/getting-started/table_design">Table Design</a></div>
                  
                    <div class="row"><a href="/docs/2.x/getting-started/table_configuration">Table Configuration</a></div>
                  
                    <div class="row"><a href="/docs/2.x/getting-started/glossary">Glossary</a></div>
                  
                </div>
              </div>
            </div>
          
        
          
        
          
        
          
        
      
        
          
        
          
        
          
            <div class="accordion-item">
              <div class="accordion-header fs-5 fw-bold" id="headingdevelopment">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsedevelopment" aria-expanded="false" aria-controls="collapsedevelopment">
                  Development
                </button>
              </div>
              <div id="collapsedevelopment" class="accordion-collapse collapse" aria-labelledby="headingdevelopment" data-bs-parent="#myAccordion">
                <div class="accordion-body">
                  
                  
                    <div class="row"><a href="/docs/2.x/development/iterators">Iterators</a></div>
                  
                    <div class="row"><a href="/docs/2.x/development/mapreduce">MapReduce</a></div>
                  
                    <div class="row"><a href="/docs/2.x/development/spark">Spark</a></div>
                  
                    <div class="row"><a href="/docs/2.x/development/development_tools">Development Tools</a></div>
                  
                    <div class="row"><a href="/docs/2.x/development/sampling">Sampling</a></div>
                  
                    <div class="row"><a href="/docs/2.x/development/summaries">Summary Statistics</a></div>
                  
                    <div class="row"><a href="/docs/2.x/development/proxy">Proxy</a></div>
                  
                    <div class="row"><a href="/docs/2.x/development/high_speed_ingest">High-Speed Ingest</a></div>
                  
                </div>
              </div>
            </div>
          
        
          
        
          
        
          
        
          
        
      
        
          
        
          
        
          
        
          
        
          
        
          
            <div class="accordion-item">
              <div class="accordion-header fs-5 fw-bold" id="headingsecurity">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsesecurity" aria-expanded="false" aria-controls="collapsesecurity">
                  Security
                </button>
              </div>
              <div id="collapsesecurity" class="accordion-collapse collapse" aria-labelledby="headingsecurity" data-bs-parent="#myAccordion">
                <div class="accordion-body">
                  
                  
                    <div class="row"><a href="/docs/2.x/security/overview">Security Overview</a></div>
                  
                    <div class="row"><a href="/docs/2.x/security/authentication">Authentication</a></div>
                  
                    <div class="row"><a href="/docs/2.x/security/permissions">Permissions</a></div>
                  
                    <div class="row"><a href="/docs/2.x/security/authorizations">Authorizations</a></div>
                  
                    <div class="row"><a href="/docs/2.x/security/on-disk-encryption">On Disk Encryption</a></div>
                  
                    <div class="row"><a href="/docs/2.x/security/wire-encryption">Wire Encryption</a></div>
                  
                    <div class="row"><a href="/docs/2.x/security/kerberos">Kerberos</a></div>
                  
                </div>
              </div>
            </div>
          
        
          
        
      
        
          
        
          
            <div class="accordion-item">
              <div class="accordion-header fs-5 fw-bold" id="headingconfiguration">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseconfiguration" aria-expanded="false" aria-controls="collapseconfiguration">
                  Configuration
                </button>
              </div>
              <div id="collapseconfiguration" class="accordion-collapse collapse" aria-labelledby="headingconfiguration" data-bs-parent="#myAccordion">
                <div class="accordion-body">
                  
                  
                    <div class="row"><a href="/docs/2.x/configuration/overview">Configuration Overview</a></div>
                  
                    <div class="row"><a href="/docs/2.x/configuration/files">Configuration Files</a></div>
                  
                    <div class="row"><a href="/docs/2.x/configuration/client-properties">Client Properties (2.x)</a></div>
                  
                    <div class="row"><a href="/docs/2.x/configuration/client-properties3">Client Properties (3.x)</a></div>
                  
                    <div class="row"><a href="/docs/2.x/configuration/server-properties">Server Properties (2.x)</a></div>
                  
                    <div class="row"><a href="/docs/2.x/configuration/server-properties3">Server Properties (3.x)</a></div>
                  
                </div>
              </div>
            </div>
          
        
          
        
          
        
          
        
          
        
          
        
      
        
          
            <div class="accordion-item">
              <div class="accordion-header fs-5 fw-bold" id="headingadministration">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseadministration" aria-expanded="false" aria-controls="collapseadministration">
                  Administration
                </button>
              </div>
              <div id="collapseadministration" class="accordion-collapse collapse" aria-labelledby="headingadministration" data-bs-parent="#myAccordion">
                <div class="accordion-body">
                  
                  
                    <div class="row"><a href="/docs/2.x/administration/in-depth-install">In-depth Installation</a></div>
                  
                    <div class="row"><a href="/docs/2.x/administration/monitoring-metrics">Monitoring & Metrics</a></div>
                  
                    <div class="row"><a href="/docs/2.x/administration/fate">FATE</a></div>
                  
                    <div class="row"><a href="/docs/2.x/administration/multivolume">Multi-Volume Installations</a></div>
                  
                    <div class="row"><a href="/docs/2.x/administration/replication">Replication</a></div>
                  
                    <div class="row"><a href="/docs/2.x/administration/caching">Caching</a></div>
                  
                    <div class="row"><a href="/docs/2.x/administration/compaction">Compactions</a></div>
                  
                    <div class="row"><a href="/docs/2.x/administration/upgrading">Upgrading Accumulo</a></div>
                  
                    <div class="row"><a href="/docs/2.x/administration/scan-executors">Scan Executors</a></div>
                  
                    <div class="row"><a href="/docs/2.x/administration/erasure-coding">Erasure Coding</a></div>
                  
                </div>
              </div>
            </div>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            <div class="accordion-item">
              <div class="accordion-header fs-5 fw-bold" id="headingtroubleshooting">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsetroubleshooting" aria-expanded="false" aria-controls="collapsetroubleshooting">
                  Troubleshooting
                </button>
              </div>
              <div id="collapsetroubleshooting" class="accordion-collapse collapse" aria-labelledby="headingtroubleshooting" data-bs-parent="#myAccordion">
                <div class="accordion-body">
                  
                  
                    <div class="row"><a href="/docs/2.x/troubleshooting/basic">Basic Troubleshooting</a></div>
                  
                    <div class="row"><a href="/docs/2.x/troubleshooting/advanced">Advanced Troubleshooting</a></div>
                  
                    <div class="row"><a href="/docs/2.x/troubleshooting/tools">Troubleshooting Tools</a></div>
                  
                    <div class="row"><a href="/docs/2.x/troubleshooting/system-metadata-tables">System Metadata Tables</a></div>
                  
                    <div class="row"><a href="/docs/2.x/troubleshooting/performance">Performance</a></div>
                  
                    <div class="row"><a href="/docs/2.x/troubleshooting/tracing">Tracing</a></div>
                  
                    <div class="row"><a href="/docs/2.x/troubleshooting/zookeeper">ZooKeeper</a></div>
                  
                </div>
              </div>
            </div>
          
        
      
    </div>
  </div>
  <div class="col-md-9">
    
    <p>Accumulo 2.x Documentation &gt;&gt; Getting started &gt;&gt; Features</p>
    
    
    <div class="row mt-4">
      <div class="col-md-12 d-flex justify-content-between">
        <h1>Features</h1>
        <a href="https://github.com/apache/accumulo-website/edit/main/_docs-2/getting-started/features.md" role="button"><span class="fa-solid fa-pen-to-square"></span> <small>Edit this page</small></a>
      </div>
    </div>
    
    
<ul id="markdown-toc">
  <li><a href="#table-design-and-configuration" id="markdown-toc-table-design-and-configuration">Table Design and Configuration</a></li>
  <li><a href="#integrityavailability" id="markdown-toc-integrityavailability">Integrity/Availability</a></li>
  <li><a href="#performance" id="markdown-toc-performance">Performance</a></li>
  <li><a href="#testing" id="markdown-toc-testing">Testing</a></li>
  <li><a href="#client-api" id="markdown-toc-client-api">Client API</a></li>
  <li><a href="#plugins" id="markdown-toc-plugins">Plugins</a></li>
  <li><a href="#general-administration" id="markdown-toc-general-administration">General Administration</a></li>
  <li><a href="#internal-data-management" id="markdown-toc-internal-data-management">Internal Data Management</a></li>
  <li><a href="#on-demand-data-management" id="markdown-toc-on-demand-data-management">On-demand Data Management</a></li>
</ul>

<h2 id="table-design-and-configuration">Table Design and Configuration</h2>

<h3 id="iterators">Iterators</h3>

<p><a href="/docs/2.x/development/iterators">Iterators</a> are server-side programming mechanisms that encode functions such as filtering and
aggregation within the data management steps (scopes where data is read from or
written to disk) that happen in the tablet server.</p>

<h3 id="security-labels">Security labels</h3>

<p>Accumulo Keys can contain a <a href="/docs/2.x/security/authorizations#security-labels">security label</a>
(called a Column Visibility) that enables expressive cell-level access control.
Authorizations are passed with each query to control what data is returned to the user.
Column visibilities support boolean <code class="language-plaintext highlighter-rouge">AND</code> and <code class="language-plaintext highlighter-rouge">OR</code> combinations of arbitrary strings (such
as <code class="language-plaintext highlighter-rouge">(A&amp;B)|C</code>) and authorizations are sets of strings (such as <code class="language-plaintext highlighter-rouge">{C,D}</code>).</p>

<h3 id="constraints">Constraints</h3>

<p><a href="/docs/2.x/getting-started/table_configuration#constraints">Constraints</a> are configurable
conditions where table writes are rejected. Constraints are written in Java and configurable
on a per-table basis.</p>

<h3 id="sharding">Sharding</h3>

<p>Through the use of specialized iterators, Accumulo can be a parallel sharded
document store. For example, Wikipedia could be stored and searched for
documents containing certain words.</p>

<h3 id="large-rows">Large Rows</h3>

<p>When reading rows, there is no requirement that an entire row fits into memory.</p>

<h3 id="namespaces">Namespaces</h3>

<p>Table namespaces (since 1.6.0) allow for logical grouping and configuration of Accumulo
tables. By default, tables are created in a default namespace which is the empty string
to preserve the feel for how tables operate in previous versions. One application of
table namespaces is placing the Accumulo root and metadata table in an “accumulo”
namespace to denote that these tables are used internally by Accumulo.</p>

<h3 id="volume-support">Volume support</h3>

<p>While Accumulo typically runs on a single HDFS instance, it supports <a href="/docs/2.x/administration/multivolume">multi-volume installations</a>
(since 1.6.0) which allow it to run over multiple disjoint HDFS instances and scale beyond the limits
of a single namenode. When used in conjunction with HDFS federation, multiple namenodes
can share a pool of datanodes.</p>

<h2 id="integrityavailability">Integrity/Availability</h2>

<h3 id="manager-fail-over">Manager fail over</h3>

<p>Multiple managers can be configured.  Zookeeper locks are used to determine
which manager is active.  The remaining managers simply wait for the current
manager to lose its lock.  Current manager state is held in the metadata table
and Zookeeper.</p>

<h3 id="logical-time">Logical time</h3>

<p>A mechanism to ensure that server set times never go backwards, even when time
across the cluster is incorrect. This ensures that updates and deletes are not
lost. If a tablet is served on machine with time a year in the future, then the
tablet will continue to issue new timestamps a year in the future, even when it
moves to another server. In this case the timestamps preserve ordering, but
lose their meaning. In addition to logical time, Accumulo has manager
authoritative time. The manager averages the time of all of the tablet servers
and sends this back to the tablet servers. Tablet servers use this information
to adjust the timestamps they issue. So logical time ensures ordering is
always correct and manager authoritative time tries to ensure that timestamps
are meaningful.</p>

<h3 id="logical-time-for-bulk-import">Logical Time for bulk import</h3>

<p>Logical time as described above works with streaming (batch) ingest, where the
tablet server assigns the timestamp.  Logical time is also important for bulk
imported data, for which the client code may be choosing a timestamp.  Accumulo
uses specialized system iterators to lazily set times in a bulk imported
file.  This mechanism guarantees that times set by unsynchronized multi-node
applications (such as those running on MapReduce) will maintain some semblance
of causal ordering.  This mitigates the problem of the time being wrong on the
system that created the file for bulk import. These times are not set when the
file is imported, but whenever it is read by scans or compactions. At import, a
time is obtained and always used by the specialized system iterator to set that
time.</p>

<h3 id="fate">FATE</h3>

<p><a href="/docs/2.x/administration/fate">FATE</a> (short for <strong>Fa</strong>ult <strong>T</strong>olerant <strong>E</strong>xecutor) is a framework for executing
operations in a fault tolerant manner. Before FATE, if the manager process died in the
middle of creating a table it could leave the system in an inconsistent state.
With this new framework, if the manager dies in the middle of create table it
will continue on restart. Also, the client requesting the create table operation
will never know anything happened. The framework serializes work in Zookeeper
before attempting to do the work. Clients start a FATE transaction, seed it
with work, and then wait for it to finish. Most table operations are executed
using this framework. Persistent, per table, read-write locks are created in
Zookeeper to synchronize operations across process faults.</p>

<h3 id="scalable-manager">Scalable manager</h3>

<p>Stores its metadata in an Accumulo table and Zookeeper.</p>

<h3 id="isolation">Isolation</h3>

<p>Scans will not see data inserted into a row after the scan of that row begins.</p>

<h2 id="performance">Performance</h2>

<h3 id="relative-encoding">Relative encoding</h3>

<p>If consecutive keys have identical portions (row, colf, colq, or colvis), there
is a flag to indicate that a portion is the same as that of the previous key.
This is applied when keys are stored on disk and when transferred over the
network.  Starting with 1.5, prefix erasure is supported.  When it is cost
effective, prefixes repeated in subsequent key fields are not repeated.</p>

<h3 id="native-in-memory-map">Native In-Memory Map</h3>

<p>By default, data written is stored outside of Java managed memory into a C++ STL
map of maps.  It maps rows to columns to values.  This hierarchical structure
improves performance of inserting a mutation with multiple column values in a
single row. A custom STL allocator is used to avoid the global malloc lock and
memory fragmentation.</p>

<h3 id="scan-pipeline">Scan pipeline</h3>

<p>A long running Accumulo scan will eventually cause multiple threads to start.
One server thread to read data from disk, one server thread to serialize and
send data, and one client thread to deserialize and read data. When pipelining
kicks in, it substantially increases scan speed while maintaining key order. It
does not activate for short scans.</p>

<h3 id="caching">Caching</h3>

<p>Recently scanned data is <a href="/docs/2.x/administration/caching">cached</a> into memory
There are separate caches for indexes and data.  Caching can be turned on and off
for individual tables.</p>

<h3 id="multi-level-rfile-index">Multi-level RFile Index</h3>

<p>RFiles store an index of the last key in each block. For large files, the index
can become quite large. When the index is large, a lot of memory is consumed and
files take a long time to open. To avoid this problem, RFiles have a
multi-level index tree. Index blocks can point to other index blocks or data
blocks. The entire index never has to be resident, even when the file is
written. When an index block exceeds the configurable size threshold, it’s
written out between data blocks. The size of index blocks is configurable on a
per-table basis.</p>

<h3 id="binary-search-in-rfile-blocks">Binary search in RFile blocks</h3>

<p>RFile uses its index to locate a block of key values.  Once it reaches a block,
it performs a linear scan to find a key of interest.  Accumulo will generate
indexes of cached blocks in an adaptive manner.  Accumulo indexes the most
frequently read blocks.  When a block is read a few times, a small index
is generated.  As a block is read more, larger indexes are generated, making
future seeks faster. This strategy allows Accumulo to dynamically respond to
read patterns without precomputing block indexes when RFiles are written.</p>

<h2 id="testing">Testing</h2>

<h3 id="mini-accumulo-cluster">Mini Accumulo Cluster</h3>

<p>Mini Accumulo cluster is a set of utility code that makes it easy to spin up
a local Accumulo instance running against the local filesystem.  Mini Accumulo
is slower than Mock Accumulo, but its behavior mirrors a real Accumulo
instance more closely.</p>

<h3 id="accumulo-maven-plugin">Accumulo Maven Plugin</h3>

<p>Using the Mini Accumulo Cluster in unit and integration tests is a great way for
developers to test their applications against Accumulo in an environment that is
much closer to physical deployments than a Mock Accumulo environment.
Accumulo 1.6.0 also introduced a <a href="/release/accumulo-1.6.0/#maven-plugin">maven-accumulo-plugin</a> which
can be used to start a Mini Accumulo Cluster instance as a part of the Maven
lifecycle that your application tests can use.</p>

<h3 id="functional-test">Functional Test</h3>

<p>Small, system-level tests of basic Accumulo features run in a test harness,
external to the build and unit-tests.  These tests start a complete Accumulo
instance, and require Hadoop and Zookeeper to be running.  They attempt to
simulate the basic functions of Accumulo, as well as common failure conditions,
such as lost disks, killed processes, and read-only file systems.</p>

<h3 id="scale-test">Scale Test</h3>

<p>A test suite that verifies data is not lost at scale. This test runs many
ingest clients that continually create linked lists containing 25 million
nodes. At some point the clients are stopped and a map reduce job is run to
ensure no linked list has a hole. A hole indicates data was lost by Accumulo.
The Agitator can be run in conjunction with this test to randomly kill tablet
servers. This test suite has uncovered many obscure data loss bugs.  This test
also helps find bugs that impact uptime and stability when run for days or
weeks.</p>

<h3 id="random-walk-test">Random Walk Test</h3>

<p>A test suite that looks for unexpected system states that may emerge in
plausible real-world applications.  Application components are defined as test
nodes (such as create table, insert data, scan data, delete table, etc.), and
are programmed as Java classes that implement a specified interface.  The nodes
are connected together in a graph specified in an XML document. Many processes
independently and concurrently execute a random walk of the test graphs. Some
of the test graphs have a concept of correctness and can verify data over time.
Other tests have no concept of data correctness and have the simple goal of
crashing Accumulo. Many obscure bugs have been uncovered by this testing
framework and subsequently corrected.</p>

<h2 id="client-api">Client API</h2>

<h3 id="batch-scanner">Batch Scanner</h3>

<p>The <a href="/docs/2.x/getting-started/clients#batchscanner">BatchScanner</a> takes a list of Ranges, batches them to the appropriate tablet servers, and
returns data as it is received (i.e. not in sorted order).</p>

<h3 id="batch-writer">Batch Writer</h3>

<p>The <a href="/docs/2.x/getting-started/clients#batchwriter">BatchWriter</a> client buffers writes in memory before sending them in batches to the
appropriate tablet servers.</p>

<h3 id="bulk-import">Bulk Import</h3>

<p>Instead of writing individual mutations to Accumulo, entire files of sorted key
value pairs can be imported using <a href="/docs/2.x/development/high_speed_ingest#bulk-ingest">BulkImport</a>. These files are moved into the Accumulo directory
and referenced by Accumulo. This feature is useful for ingesting a large amount
of data. This method of ingest usually offers higher throughput at the cost of
higher latency for data availability for scans.  Usually, the data is sorted
using map reduce and then bulk imported. This method of ingest also allows for
flexibility in resource allocation.  The nodes running map reduce to sort data
could be different from the Accumulo nodes.</p>

<h3 id="mapreduce">MapReduce</h3>

<p>Accumulo can be a source and/or sink for <a href="/docs/2.x/development/mapreduce">MapReduce</a> jobs.</p>

<h3 id="proxy">Proxy</h3>

<p>Accumulo has a <a href="/docs/2.x/development/proxy">proxy</a> which enables interaction
to with Accumulo using other languages like Python, Ruby, C++, etc.</p>

<h3 id="conditional-mutations">Conditional Mutations</h3>

<p><a href="/docs/2.x/getting-started/clients#conditionalwriter">Conditional Mutations</a> (since 1.6.0) allow users to perform efficient, atomic
read-modify-write operations on rows. Conditions can be defined using equality checks of the values
in a column or the absence of a column. For more information on using this feature, users can reference
the Javadoc for <a href="https://static.javadoc.io/org.apache.accumulo/accumulo-core/2.1.2/org/apache/accumulo/core/data/ConditionalMutation.html">ConditionalMutation</a> and <a href="/docs/2.x/getting-started/clients#conditionalwriter">ConditionalWriter</a>.</p>

<h3 id="lexicoders">Lexicoders</h3>

<p><a href="/docs/2.x/getting-started/table_design#lexicoders">Lexicoders</a> (since 1.6.0) help encode data (i.e numbers, dates)
into Accumulo keys in a way that their natural sort order is preserved.</p>

<h2 id="plugins">Plugins</h2>

<p>The <a href="https://static.javadoc.io/org.apache.accumulo/accumulo-core/2.1.2/org/apache/accumulo/core/spi/package-summary.html">Service Plugin Interface (SPI)</a> was created to expose Accumulo system level information to
plugins in a stable manner.</p>

<h3 id="balancer">Balancer</h3>

<p>Users can provide a balancer plugin that decides how to distribute tablets
across a table.  These plugins can be provided on a per-table basis.  This is
useful for ensuring a particular table’s tablets are placed optimally for
tables with special query needs.  The default balancer randomly spreads each
table’s tablets across the cluster.  It takes into account where a tablet was
previously hosted to leverage locality.  When a tablet splits, the default
balancer moves one child to another tablet server.  The assumption here is that
splitting tablets are being actively written to, so this keeps write load evenly
spread.</p>

<h3 id="cache">Cache</h3>

<p>See the page on <a href="/docs/2.x/administration/caching">Caching</a></p>

<h3 id="compaction">Compaction</h3>

<p>Compactions were reworked in 2.1 to allow plugin capabilities. See <a href="https://static.javadoc.io/org.apache.accumulo/accumulo-core/2.1.2/org/apache/accumulo/core/spi/compaction/package-summary.html">the documentation for
compactions</a>.</p>

<h3 id="scan">Scan</h3>

<p>Scan Executors were added to the SPI in 2.0. See the <a href="/docs/2.x/administration/scan-executors">Scan Executors</a> page.</p>

<h3 id="volume-chooser">Volume Chooser</h3>

<p>The Volume Chooser has been around for some time but was refactored in 2.1 to be included in the SPI.
See the <a href="https://static.javadoc.io/org.apache.accumulo/accumulo-core/2.1.2/org/apache/accumulo/core/spi/fs/VolumeChooser.html">javadoc</a> for more information.</p>

<h3 id="pluggable-block-caches">Pluggable Block Caches</h3>

<p>Accumulo provides two BlockCacheManager implementations (LruBlockCacheManager and
TinyLfuBlockCacheManager) that construct on-heap block caches. Users can provide
alternate BlockCacheManager implementations using the property <code class="language-plaintext highlighter-rouge">tserver.cache.manager.class</code>.</p>

<h2 id="general-administration">General Administration</h2>

<h3 id="monitor-page">Monitor page</h3>

<p>The <a href="/docs/2.x/administration/monitoring-metrics">Accumulo Monitor</a> provides basic information about the system health and
performance.  It displays table sizes, ingest and query statistics, server
load, and last-update information.  It also allows the user to view recent
diagnostic logs and traces.</p>

<p><a class="p-3 border rounded d-block" href="/images/accumulo-monitor-1.png">
<img src="/images/accumulo-monitor-1.png" class="img-fluid rounded" alt="monitor overview" />
</a></p>

<h3 id="tracing">Tracing</h3>

<p>It can be difficult to determine why some operations are taking longer than
expected. For example, you may be looking up items with very low latency, but
sometimes the lookups take much longer. Determining the cause of the delay is
difficult because the system is distributed, and the typical lookup is fast.
Accumulo has been instrumented to record the time that various operations take
when tracing is turned on. The fact that tracing is enabled follows all the
requests made on behalf of the user throughout the distributed infrastructure
of Accumulo, and across all threads of execution.</p>

<h3 id="online-reconfiguration">Online reconfiguration</h3>

<p>System and per table configuration is stored in Zookeeper. Many, but not all,
configuration changes take effect while Accumulo is running. Some do not take
effect until server processes are restarted.</p>

<h3 id="table-renaming">Table renaming</h3>

<p>Tables can be renamed easily because Accumulo uses internal table IDs and
stores mappings between names and IDs in Zookeeper.</p>

<h2 id="internal-data-management">Internal Data Management</h2>

<h3 id="locality-groups">Locality groups</h3>

<p>Groups columns within a single file. There is a default locality group so that
not all columns need be specified. The locality groups can be restructured
while the table is online and the changes will take effect on the next
compaction.  A tablet can have files with different locality group
configurations.  In this case, scans may be suboptimal, but correct until
compactions rewrite all files.  After reconfiguring locality groups, a user can
force a table to compact in order to write all data into the new locality
groups.  Alternatively, the change could be allowed to happen over time as
writes to the table cause compactions to happen.</p>

<h3 id="smart-compaction-algorithm">Smart compaction algorithm</h3>

<p>It is inefficient to merge small files with large files.  Accumulo merges files
only if all files are larger than a configurable ratio (default is 3)
multiplied by the largest file size.  If this cannot be done with all the
files, the largest file is removed from consideration, and the remaining files
are considered for compaction.  This is done until there are no files to merge.</p>

<h3 id="encryption">Encryption</h3>

<p>Accumulo can encrypt its <a href="/docs/2.x/security/on-disk-encryption">data on disk</a> and
<a href="/docs/2.x/security/wire-encryption">data sent over the wire</a>.</p>

<h2 id="on-demand-data-management">On-demand Data Management</h2>

<h3 id="compactions">Compactions</h3>

<p>Ability to force tablets to compact to one file. Even tablets with one file are
compacted.  This is useful for improving query performance, permanently
applying iterators, or using a new locality group configuration.  One example
of using iterators is applying a filtering iterator to remove data from a
table. Additionally, users can initiate a compaction with iterators only applied to
that compaction event.</p>

<h3 id="split-points">Split points</h3>

<p>Arbitrary split points can be added to an online table at any point in time.
This is useful for increasing ingest performance on a new table. It can also be
used to accommodate new data patterns in an existing table.</p>

<h3 id="tablet-merging">Tablet Merging</h3>

<p>Tablet merging is a new feature. Merging of tablets can be requested in the
shell; Accumulo does not merge tablets automatically. If desired, the METADATA
tablets can be merged.</p>

<h3 id="table-cloning">Table Cloning</h3>

<p>Allows users to quickly create a new table that references an existing table’s
data and copies its configuration. A cloned table and its source table can be
mutated independently. Testing was the motivating reason behind this new
feature. For example, to test a new filtering iterator, clone the table, add the
filter to the clone, and force a major compaction.</p>

<h3 id="importexport-table">Import/Export Table</h3>

<p>An offline tables metadata and files can easily be copied to another cluster and
imported.</p>

<h3 id="compact-range">Compact Range</h3>

<p>Compact each tablet that falls within a row range down to a single file.</p>

<h3 id="delete-range">Delete Range</h3>

<p>Added an operation to efficiently delete a range of rows from a table. Tablets
that fall completely within a range are simply dropped. Tablets overlapping the
beginning and end of the range are split, compacted, and then merged.</p>


    <div class="row mt-4">
      <div class="col-md-12 d-flex justify-content-between">
        <strong>Find documentation for all releases in the <a href="/docs-archive">archive</strong>
        <a href="https://github.com/apache/accumulo-website/edit/main/_docs-2/getting-started/features.md" role="button"><span class="fa-solid fa-pen-to-square"></span> <small>Edit this page</small></a>
      </div>
    </div>
  </div>
</div>

        </div>

        
<footer>

  <p><a href="https://www.apache.org/foundation/contributing"><img src="https://www.apache.org/images/SupportApache-small.png" alt="Support the ASF" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.
Licensed under the <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.</p>

  <p>Apache®, the names of Apache projects and their logos, and the multicolor feather
logo are registered trademarks or trademarks of The Apache Software Foundation
in the United States and/or other countries.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
