<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" href="/css/bootstrap/5.3.3/dist/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="/css/fontawesome/fontawesome-free-6.6.0-web/css/all.css">
<link rel="stylesheet" type="text/css" href="/css/datatables/bs5/dt-2.0.8/datatables.css">
<link rel="stylesheet" type="text/css" href="/css/accumulo.css">

<title>Apache Accumulo 1.6.0</title>

<script type="text/javascript" src="/js/jquery/3.7.1/jquery.js"></script>
<script type="text/javascript" src="/js/bootstrap/5.3.3/dist/js/bootstrap.bundle.js"></script>
<script type="text/javascript" src="/js/datatables/bs5/dt-2.0.8/datatables.js"></script>
<script type="text/javascript" src="https://www.apachecon.com/event-images/snippet.js"></script>
<script type="text/javascript" src="/js/accumulo.js"></script>
</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-light">
  <div class="container">
    <a class="navbar-brand" href="/">
      <img alt="Apache Accumulo" id="nav-logo" src="/images/accumulo-logo.png" width="200">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-items">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="/downloads">Download</a></li>
        <li class="nav-item"><a class="nav-link" href="/tour">Tour</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Releases</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/release/accumulo-3.0.0/">3.0.0 (Latest non-LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-2.1.3/">2.1.3 (Latest LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-1.10.4/">1.10.4 (Legacy LTM)</a></li>
            <li><a class="dropdown-item" href="/release/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Documentation</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/docs/2.x">User Manual (2.x)</a></li>
            <li><a class="dropdown-item" href="/docs/2.x/apidocs">Javadocs (2.x)</a></li>
            <li><a class="dropdown-item" href="/api">Public API</a></li>
            <li><a class="dropdown-item" href="/quickstart-1.x">Quickstart (1.x)</a></li>
            <li><a class="dropdown-item" href="/accumulo2-maven-plugin">Accumulo Maven Plugin</a></li>
            <li><a class="dropdown-item" href="/1.10/accumulo_user_manual.html">User Manual (1.10)</a></li>
            <li><a class="dropdown-item" href="/1.10/apidocs">Javadocs (1.10)</a></li>
            <li><a class="dropdown-item" href="/external-docs">External Docs</a></li>
            <li><a class="dropdown-item" href="/docs-archive/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Community</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/contact-us">Contact Us</a></li>
            <li><a class="dropdown-item" href="/how-to-contribute">How To Contribute</a></li>
            <li><a class="dropdown-item" href="/people">People</a></li>
            <li><a class="dropdown-item" href="/related-projects">Related Projects</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="/search">Search</a></li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <img alt="Apache Software Foundation" src="https://www.apache.org/foundation/press/kit/feather.svg" width="15"/>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="https://www.apache.org">Apache Homepage <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/licenses/">License <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship">Sponsorship <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/security">Security <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/thanks">Thanks <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/policies/privacy.html">Privacy Policy<span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/events/current-event.html">Current Event <span class="fa-solid fa-up-right-from-square"></span></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <h1 class="title">Apache Accumulo 1.6.0</h1>
          
          

<p>02 May 2014</p>
<nav aria-label="Navigate Release Notes"><ul class="pagination d-flex justify-content-between">
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-1.5.4/">&laquo;&nbsp;Apache Accumulo 1.5.4</a></li>
      
    
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-1.6.1/">Apache Accumulo 1.6.1&nbsp;&raquo;</a></li>
      
    </ul></nav>




<div class="alert alert-warning" role="alert">
  This version of Accumulo has been superceded by a newer version.<br>
  Please check <a class="alert-link" href="/release/">our release archive</a> for a newer version.
</div>


<p>Apache Accumulo 1.6.0 adds some major new features and fixes many bugs.  This release contains changes from 609 issues contributed by 36 contributors and committers.</p>

<p>Below are resources for this release:</p>

<ul>
  <li><a href="/1.6/accumulo_user_manual.html">User Manual</a></li>
  <li><a href="/1.6/apidocs">Javadocs</a></li>
  <li><a href="/1.6/examples">Examples</a></li>
</ul>

<p>Accumulo 1.6.0 runs on Hadoop 1, however Hadoop 2 with HA namenode is recommended for production systems.  In addition to HA, Hadoop 2 also offers better data durability guarantees, in the case when nodes lose power, than Hadoop 1.</p>

<h2 id="notable-improvements">Notable Improvements</h2>

<h3 id="multiple-volume-support">Multiple volume support</h3>

<p><a href="https://research.google.com/archive/bigtable.html">BigTable’s</a> design allows for its internal metadata to automatically spread across multiple nodes.  Accumulo has followed this design and scales very well as a result.  There is one impediment to scaling though, and this is the HDFS namenode.  There are two problems with the namenode when it comes to scaling.  First, the namenode stores all of its filesystem metadata in memory on a single machine.  This introduces an upper bound on the number of files Accumulo can have.  Second, there is an upper bound on the number of file operations per second that a single namenode can support.  For example, a namenode can only support a few thousand delete or create file request per second.</p>

<p>To overcome this bottleneck, support for multiple namenodes was added under <a href="https://issues.apache.org/jira/browse/ACCUMULO-118" title="Multiple namenode support">ACCUMULO-118</a>.  This change allows Accumulo to store its files across multiple namenodes.  To use this feature, place comma separated list of namenode URIs in the new <em>instance.volumes</em> configuration property in accumulo-site.xml.  When upgrading to 1.6.0 and multiple namenode support is desired, modify this setting <strong>only</strong> after a successful upgrade.</p>

<h3 id="table-namespaces">Table namespaces</h3>

<p>Administering an Accumulo instance with many tables is cumbersome.  To ease this, <a href="https://issues.apache.org/jira/browse/ACCUMULO-802" title="Table namespaces">ACCUMULO-802</a> introduced table namespaces which allow tables to be grouped into logical collections.  This allows configuration and permission changes to made to a namespace, which will apply to all of its tables.</p>

<h3 id="conditional-mutations">Conditional Mutations</h3>

<p>Accumulo now offers a way to make atomic read,modify,write row changes from the client side.  Atomic test and set row operations make this possible.  <a href="https://issues.apache.org/jira/browse/ACCUMULO-1000" title="Conditional Mutations">ACCUMULO-1000</a> added conditional mutations and a conditional writer.  A conditional mutation has tests on columns that must pass before any changes are made.  These test are executed in server processes while a row lock is held.  Below is a simple example of making atomic row changes using conditional mutations.</p>

<ol>
  <li>Read columns X,Y,SEQ into a,b,s from row R1 using an isolated scanner.</li>
  <li>For row R1 write conditional mutation X=f(a),Y=g(b),SEQ=s+1 if SEQ==s.</li>
  <li>If conditional mutation failed, then goto step 1.</li>
</ol>

<p>The only built in test that conditional mutations support are equality and isNull.  However, iterators can be configured on a conditional mutation to run before these test.  This makes it possible to implement any number of test such as less than, greater than, contains, etc.</p>

<h3 id="encryption">Encryption</h3>

<p>Encryption is still an experimental feature, but much progress has been made since 1.5.0.  Support for encrypting rfiles and write ahead logs were added in <a href="https://issues.apache.org/jira/browse/ACCUMULO-958" title="Support pluggable encryption in walogs">ACCUMULO-958</a> and <a href="https://issues.apache.org/jira/browse/ACCUMULO-980" title="Support pluggable codecs for RFile">ACCUMULO-980</a>.  Support for encrypting data over the wire using SSL was added in <a href="https://issues.apache.org/jira/browse/ACCUMULO-1009" title="Support encryption over the wire">ACCUMULO-1009</a>.</p>

<p>When a tablet server fails, its write ahead logs are sorted and stored in HDFS.  In 1.6.0, encrypting these sorted write ahead logs is not supported.  <a href="https://issues.apache.org/jira/browse/ACCUMULO-981" title="support pluggable encryption when recovering write-ahead logs">ACCUMULO-981</a> is open to address this issue.</p>

<h3 id="pluggable-compaction-strategies">Pluggable compaction strategies</h3>

<p>One of the key elements of the <a href="https://research.google.com/archive/bigtable.html">BigTable</a> design is use of the <a href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.44.2782&amp;rep=rep1&amp;type=pdf">Log Structured Merge Tree</a>.  This entails sorting data in memory, writing out sorted files, and then later merging multiple sorted files into a single file.   These automatic merges happen in the background and Accumulo decides when to merge files based comparing relative sizes of files to a compaction ratio.  Before 1.6.0 adjusting the compaction ratio was the only way a user could control this process.  <a href="https://issues.apache.org/jira/browse/ACCUMULO-1451" title="Make Compaction triggers extensible">ACCUMULO-1451</a> introduces pluggable compaction strategies which allow users to choose when and what files to compact.  <a href="https://issues.apache.org/jira/browse/ACCUMULO-1808" title="Create compaction strategy that has size limit">ACCUMULO-1808</a> adds a compaction strategy that prevents compaction of files over a configurable size.</p>

<h3 id="lexicoders">Lexicoders</h3>

<p>Accumulo only sorts data lexicographically.  Getting something like a pair of (<em>String</em>,<em>Integer</em>) to sort correctly in Accumulo is tricky.  It’s tricky because you only want to compare the integers if the strings are equal.  It’s possible to make this sort properly in Accumulo if the data is encoded properly, but can be difficult.  To make this easier <a href="https://issues.apache.org/jira/browse/ACCUMULO-1336" title="Add lexicoders from Typo to Accumulo">ACCUMULO-1336</a> added Lexicoders to the Accumulo API.  Lexicoders provide an easy way to serialize data so that it sorts properly lexicographically.  Below is a simple example.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">PairLexicoder</span> <span class="n">plex</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PairLexicoder</span><span class="o">(</span><span class="k">new</span> <span class="nc">StringLexicoder</span><span class="o">(),</span> <span class="k">new</span> <span class="nc">IntegerLexicoder</span><span class="o">());</span>
<span class="kt">byte</span><span class="o">[]</span> <span class="n">ba1</span> <span class="o">=</span> <span class="n">plex</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="k">new</span> <span class="nc">ComparablePair</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;(</span><span class="s">"b"</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span>
<span class="kt">byte</span><span class="o">[]</span> <span class="n">ba2</span> <span class="o">=</span> <span class="n">plex</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="k">new</span> <span class="nc">ComparablePair</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;(</span><span class="s">"aa"</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span>
<span class="kt">byte</span><span class="o">[]</span> <span class="n">ba3</span> <span class="o">=</span> <span class="n">plex</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="k">new</span> <span class="nc">ComparablePair</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;(</span><span class="s">"a"</span><span class="o">,</span><span class="mi">2</span><span class="o">));</span>
<span class="kt">byte</span><span class="o">[]</span> <span class="n">ba4</span> <span class="o">=</span> <span class="n">plex</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="k">new</span> <span class="nc">ComparablePair</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;(</span><span class="s">"a"</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span>
<span class="kt">byte</span><span class="o">[]</span> <span class="n">ba5</span> <span class="o">=</span> <span class="n">plex</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="k">new</span> <span class="nc">ComparablePair</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;(</span><span class="s">"aa"</span><span class="o">,-</span><span class="mi">3</span><span class="o">));</span>

<span class="c1">//sorting ba1,ba2,ba3,ba4, and ba5 lexicographically will result in the same order as sorting the ComparablePairs</span>
</code></pre></div></div>

<h3 id="locality-groups-in-memory">Locality groups in memory</h3>

<p>In cases where a very small amount of data is stored in a locality group one would expect fast scans over that locality group.  However this was not always the case because recently written data stored in memory was not partitioned by locality group.  Therefore if a table had 100GB of data in memory and 1MB of that was in locality group A, then scanning A would have required reading all 100GB.  <a href="https://issues.apache.org/jira/browse/ACCUMULO-112" title="Partition data in memory by locality group">ACCUMULO-112</a> changes this and partitions data by locality group as its written.</p>

<h3 id="service-ip-addresses">Service IP addresses</h3>

<p>Previous versions of Accumulo always used IP addresses internally.  This could be problematic in virtual machine environments where IP addresses change.  In <a href="https://issues.apache.org/jira/browse/ACCUMULO-1585" title="Use FQDN/verbatim data from config files">ACCUMULO-1585</a> this was changed, now Accumulo uses the exact hostnames from its config files for internal addressing.</p>

<p>All Accumulo processes running on a cluster are locatable via zookeeper.  Therefore using well known ports is not really required.  <a href="https://issues.apache.org/jira/browse/ACCUMULO-1664" title="Make all processes able to use random ports">ACCUMULO-1664</a> makes it possible to for all Accumulo processes to use random ports.  This makes it easier to run multiple Accumulo instances on a single node.</p>

<p>While Hadoop <a href="https://wiki.apache.org/hadoop/HadoopIPv6">does not support IPv6 networks</a>, attempting to run on a system that does not have IPv6 completely disabled can cause strange failures. <a href="https://issues.apache.org/jira/browse/ACCUMULO-2262" title="Include java.net.preferIPv4Stack=true in process startup">ACCUMULO-2262</a> invokes the JVM-provided configuration parameter at process startup to prefer IPv4 over IPv6.</p>

<h3 id="viewfs">ViewFS</h3>

<p>Multiple bug-fixes were made to support running Accumulo over multiple HDFS instances using ViewFS. <a href="https://issues.apache.org/jira/browse/ACCUMULO-2047" title="Failures using viewfs with multiple namenodes">ACCUMULO-2047</a> is the parent
ticket that contains numerous fixes to enable this support.</p>

<h3 id="maven-plugin">Maven Plugin</h3>

<p>This version of Accumulo is accompanied by a new maven plugin for testing client apps (<a href="https://issues.apache.org/jira/browse/ACCUMULO-1030" title="Create a Maven plugin to run MiniAccumuloCluster for integration testing">ACCUMULO-1030</a>). You can execute the accumulo-maven-plugin inside your project by adding the following to your pom.xml’s build plugins section:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;plugin&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.apache.accumulo<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>accumulo-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>1.6.0<span class="nt">&lt;/version&gt;</span>
  <span class="nt">&lt;configuration&gt;</span>
    <span class="nt">&lt;instanceName&gt;</span>plugin-it-instance<span class="nt">&lt;/instanceName&gt;</span>
    <span class="nt">&lt;rootPassword&gt;</span>ITSecret<span class="nt">&lt;/rootPassword&gt;</span>
  <span class="nt">&lt;/configuration&gt;</span>
  <span class="nt">&lt;executions&gt;</span>
    <span class="nt">&lt;execution&gt;</span>
      <span class="nt">&lt;id&gt;</span>run-plugin<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;goals&gt;</span>
        <span class="nt">&lt;goal&gt;</span>start<span class="nt">&lt;/goal&gt;</span>
        <span class="nt">&lt;goal&gt;</span>stop<span class="nt">&lt;/goal&gt;</span>
      <span class="nt">&lt;/goals&gt;</span>
    <span class="nt">&lt;/execution&gt;</span>
  <span class="nt">&lt;/executions&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</code></pre></div></div>

<p>This plugin is designed to work in conjunction with the maven-failsafe-plugin. A small test instance of Accumulo will run during the pre-integration-test phase of the Maven build lifecycle, and will be stopped in the post-integration-test phase. Your integration tests, executed by maven-failsafe-plugin can access this instance with a MiniAccumuloInstance connector (the plugin uses MiniAccumuloInstance, internally), as in the following example:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kd">static</span> <span class="nc">Connector</span> <span class="n">conn</span><span class="o">;</span>

<span class="nd">@BeforeClass</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
  <span class="nc">String</span> <span class="n">instanceName</span> <span class="o">=</span> <span class="s">"plugin-it-instance"</span><span class="o">;</span>
  <span class="nc">Instance</span> <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MiniAccumuloInstance</span><span class="o">(</span><span class="n">instanceName</span><span class="o">,</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"target/accumulo-maven-plugin/"</span> <span class="o">+</span> <span class="n">instanceName</span><span class="o">));</span>
  <span class="n">conn</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="na">getConnector</span><span class="o">(</span><span class="s">"root"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">PasswordToken</span><span class="o">(</span><span class="s">"ITSecret"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></div></div>

<p>This plugin is quite limited, currently only supporting an instance name and a root user password as configuration parameters. Improvements are expected in future releases, so feedback is welcome and appreciated (file bugs/requests under the “maven-plugin” component in the Accumulo JIRA).</p>

<h3 id="packaging">Packaging</h3>

<p>One notable change that was made to the binary tarball is the purposeful omission of a pre-built copy of the Accumulo “native map” library.
This shared library is used at ingest time to implement an off-JVM-heap sorted map that greatly increases ingest throughput while side-stepping
issues such as JVM garbage collection pauses. In earlier releases, a pre-built copy of this shared library was included in the binary tarball; however, the decision was made to omit this due to the potential variance in toolchains on the target system.</p>

<p>It is recommended that users invoke the provided build_native_library.sh before running Accumulo:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ACCUMULO_HOME/bin/build_native_library.sh
</code></pre></div></div>

<p>Be aware that you will need a C++ compiler/toolchain installed to build this library. Check your GNU/Linux distribution documentation for the package manager command.</p>

<h3 id="size-based-constraint-on-new-tables">Size-Based Constraint on New Tables</h3>

<p>A Constraint is an interface that can determine if a Mutation should be applied or rejected server-side. After <a href="https://issues.apache.org/jira/browse/ACCUMULO-466">ACCUMULO-466</a>, new tables that are created in 1.6.0 will automatically have the <code class="language-plaintext highlighter-rouge">DefaultKeySizeConstraint</code> set.
As performance can suffer when large Keys are inserted into a table, this Constraint will reject any Key that is larger than 1MB. If this constraint is undesired, it can be removed using the <code class="language-plaintext highlighter-rouge">constraint</code> shell
command. See the help message on the command for more information.</p>

<h3 id="other-notable-changes">Other notable changes</h3>

<ul>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-842" title="Add FATE administration to shell">ACCUMULO-842</a> Added FATE administration to shell</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1042" title="Ctrl-C in shell terminates the process">ACCUMULO-1042</a> CTRL-C no longer kills shell</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1345" title="Provide feedback that a compaction is 'stuck'">ACCUMULO-1345</a> Stuck compactions now log a warning with a stack trace, tablet id, and filename.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1442" title="Replace JLine with JLine2">ACCUMULO-1442</a> JLine2 support was added to the shell.  This adds features like history search and other nice things GNU Readline has.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1481" title="Root tablet in its own table">ACCUMULO-1481</a> The root tablet is now the root table.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1537" title="convert auto tests to integration tests, where possible for continuous integration">ACCUMULO-1537</a> Python functional test were converted to maven Integration test that use MAC</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1566" title="Add ability for client to start Scanner readahead immediately">ACCUMULO-1566</a> When read-ahead starts in the scanner is now configurable.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1650" title="Make it easier to find and run admin commands">ACCUMULO-1650</a> Made common admin commands easier to run, try <code class="language-plaintext highlighter-rouge">bin/accumulo admin --help</code></li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1667" title="Allow On/Offline Command To Execute Synchronously">ACCUMULO-1667</a> Added a synchronous version of online and offline table</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1706" title="Admin Utilities Should Respect EPIPE">ACCUMULO-1706</a> Admin utilities now respect EPIPE</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1833" title="MultiTableBatchWriterImpl.getBatchWriter() is not performant for multiple threads">ACCUMULO-1833</a> Multitable batch writer is faster now when used by multiple threads</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1933" title="Make unit on memory parameters case-insensitive">ACCUMULO-1933</a> Lower case can be given for memory units now.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1985" title="Cannot bind monitor on remote host to all interfaces">ACCUMULO-1985</a> Configuration to bind Monitor on all network interfaces.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2128" title="Provide resource cleanup via static utility rather than Instance.close">ACCUMULO-2128</a> Provide resource cleanup via static utility</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2360" title="Need a way to configure TNonblockingServer.maxReadBufferBytes to prevent OOMs">ACCUMULO-2360</a> Allow configuration of the maximum thrift message size a server will read.</li>
</ul>

<h2 id="notable-bug-fixes">Notable Bug Fixes</h2>

<ul>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-324" title="System/site constraints and iterators should NOT affect the METADATA table">ACCUMULO-324</a> System/site constraints and iterators should NOT affect the METADATA table</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-335" title="Batch scanning over the !METADATA table can cause issues">ACCUMULO-335</a> Can’t batchscan over the !METADATA table</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-391" title="Multi-table input format">ACCUMULO-391</a> Added support for reading from multiple tables in a Map Reduce job.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1018" title="Client does not give informative message when user can not read table">ACCUMULO-1018</a> Client does not give informative message when user can not read table</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1492" title="bin/accumulo should follow symbolic links">ACCUMULO-1492</a> bin/accumulo should follow symbolic links</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1572" title="Single node zookeeper failure kills connected accumulo servers">ACCUMULO-1572</a> Single node zookeeper failure kills connected Accumulo servers</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1661" title="AccumuloInputFormat cannot fetch empty column family">ACCUMULO-1661</a> AccumuloInputFormat cannot fetch empty column family</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1696" title="Deep copy in the compaction scope iterators can throw off the stats">ACCUMULO-1696</a> Deep copy in the compaction scope iterators can throw off the stats</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1698" title="stop-here doesn't consider system hostname">ACCUMULO-1698</a> stop-here doesn’t consider system hostname</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1901" title="start-here.sh starts only one GC process even if more are defined">ACCUMULO-1901</a> start-here.sh starts only one GC process even if more are defined</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1920" title="monitor not seeing zookeeper updates">ACCUMULO-1920</a> Monitor was not seeing zookeeper updates for tables</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1994" title="Proxy does not handle Key timestamps correctly">ACCUMULO-1994</a> Proxy does not handle Key timestamps correctly</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2037" title="Tablets not assigned to last location">ACCUMULO-2037</a> Tablets are now assigned to the last location</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2174" title="VFS Classloader has potential to collide localized resources">ACCUMULO-2174</a> VFS Classloader has potential to collide localized resources</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2225" title="Need to better handle DNS failure propagation from Hadoop">ACCUMULO-2225</a> Need to better handle DNS failure propagation from Hadoop</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2234" title="Cannot run offline mapreduce over non-default instance.dfs.dir value">ACCUMULO-2234</a> Cannot run offline mapreduce over non-default instance.dfs.dir value</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2261" title="duplicate locations">ACCUMULO-2261</a> Duplicate locations for a Tablet.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2334" title="Lacking fallback when ACCUMULO_LOG_HOST isn't set">ACCUMULO-2334</a> Lacking fallback when ACCUMULO_LOG_HOST isn’t set</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2408" title="metadata table not assigned after root table is loaded">ACCUMULO-2408</a> metadata table not assigned after root table is loaded</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2519" title="FATE operation failed across upgrade">ACCUMULO-2519</a> FATE operation failed across upgrade</li>
</ul>

<h2 id="known-issues">Known Issues</h2>

<h3 id="slower-writes-than-previous-accumulo-versions">Slower writes than previous Accumulo versions</h3>

<p>When using Accumulo 1.6 and Hadoop 2, Accumulo will call hsync() on HDFS.
Calling hsync improves durability by ensuring data is on disk (where other older
Hadoop versions might lose data in the face of power failure); however, calling
hsync frequently does noticeably slow writes. A simple work around is to increase
the value of the tserver.mutation.queue.max configuration parameter via accumulo-site.xml.</p>

<p>A value of “4M” is a better recommendation, and memory consumption will increase by
the number of concurrent writers to that TabletServer. For example, a value of 4M with
50 concurrent writers would equate to approximately 200M of Java heap being used for
mutation queues.</p>

<p>For more information, see <a href="https://issues.apache.org/jira/browse/ACCUMULO-1950" title="Reduce the number of calls to hsync">ACCUMULO-1950</a> and <a href="https://issues.apache.org/jira/browse/ACCUMULO-1905?focusedCommentId=13915208&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13915208">this comment</a>.</p>

<p>Another possible cause of slower writes is the change in write ahead log replication
between 1.4 and 1.5.  Accumulo 1.4. defaulted to two loggers servers.  Accumulo 1.5 and 1.6 store
write ahead logs in HDFS and default to using three datanodes.</p>

<h3 id="batchwriter-hold-time-error">BatchWriter hold time error</h3>

<p>If a <code class="language-plaintext highlighter-rouge">BatchWriter</code> fails with <code class="language-plaintext highlighter-rouge">MutationsRejectedException</code> and the  message contains
<code class="language-plaintext highlighter-rouge">"# server errors 1"</code> then it may be <a href="https://issues.apache.org/jira/browse/ACCUMULO-2388">ACCUMULO-2388</a>.  To confirm this look in the tablet server logs
for <code class="language-plaintext highlighter-rouge">org.apache.accumulo.tserver.HoldTimeoutException</code> around the time the <code class="language-plaintext highlighter-rouge">BatchWriter</code> failed.
If this is happening often a possible work around is to set <code class="language-plaintext highlighter-rouge">general.rpc.timeout</code> to <code class="language-plaintext highlighter-rouge">240s</code>.</p>

<h3 id="other-known-issues">Other known issues</h3>

<ul>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-981" title="support pluggable encryption when recovering write-ahead logs">ACCUMULO-981</a> Sorted write ahead logs are not encrypted.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1507" title="Dynamic Classloader still can't keep proper track of jars">ACCUMULO-1507</a> Dynamic Classloader still can’t keep proper track of jars</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1588" title="Monitor XML and JSON differ">ACCUMULO-1588</a> Monitor XML and JSON differ</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1628" title="NPE on deep copied dumped memory iterator">ACCUMULO-1628</a> NPE on deep copied dumped memory iterator</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1708" title="Error during minor compaction left tserver in bad state">ACCUMULO-1708</a> <a href="https://issues.apache.org/jira/browse/ACCUMULO-2495" title="OOM exception didn't bring down tserver">ACCUMULO-2495</a> Out of memory errors do not always kill tservers leading to unexpected behavior</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2008" title="Block cache reserves section for in-memory blocks">ACCUMULO-2008</a> Block cache reserves section for in-memory blocks</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2059" title="Namespace constraints easily get clobbered by table constraints">ACCUMULO-2059</a> Namespace constraints easily get clobbered by table constraints</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2677" title="Single node bottle neck during map reduce">ACCUMULO-2677</a> Tserver failure during map reduce reading from table can cause sub-optimal performance</li>
</ul>

<h2 id="documentation-updates">Documentation updates</h2>

<ul>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1218" title="document the recovery from a failed zookeeper">ACCUMULO-1218</a> document the recovery from a failed zookeeper</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1375" title="Update README files in proxy module.">ACCUMULO-1375</a> Update README files in proxy module.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1407" title="Fix documentation for deleterows">ACCUMULO-1407</a> Fix documentation for deleterows</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1428" title="Document native maps">ACCUMULO-1428</a> Document native maps</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1946" title="Include dfs.datanode.synconclose in hdfs configuration documentation">ACCUMULO-1946</a> Include dfs.datanode.synconclose in hdfs configuration documentation</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-1956" title="Add section on decommissioning or adding nodes to an Accumulo cluster">ACCUMULO-1956</a> Add section on decommissioning or adding nodes to an Accumulo cluster</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2441" title="Document internal state stored in RFile names">ACCUMULO-2441</a> Document internal state stored in RFile names</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2590" title="Update public API in readme to clarify what's included">ACCUMULO-2590</a> Update public API in readme to clarify what’s included</li>
</ul>

<h2 id="api-changes">API Changes</h2>

<p>The following deprecated methods were removed in <a href="https://issues.apache.org/jira/browse/ACCUMULO-1533">ACCUMULO-1533</a></p>

<ul>
  <li>Many map reduce methods deprecated in <a href="https://issues.apache.org/jira/browse/ACCUMULO-769">ACCUMULO-769</a> were removed</li>
  <li><code class="language-plaintext highlighter-rouge">SecurityErrorCode o.a.a.core.client.AccumuloSecurityException.getErrorCode()</code> <em>deprecated in <a href="https://issues.apache.org/jira/browse/ACCUMULO-970">ACCUMULO-970</a></em></li>
  <li><code class="language-plaintext highlighter-rouge">Connector o.a.a.core.client.Instance.getConnector(AuthInfo)</code> <em>deprecated in <a href="https://issues.apache.org/jira/browse/ACCUMULO-1024">ACCUMULO-1024</a></em></li>
  <li><code class="language-plaintext highlighter-rouge">Connector o.a.a.core.client.ZooKeeperInstance.getConnector(AuthInfo)</code> <em>deprecated in <a href="https://issues.apache.org/jira/browse/ACCUMULO-1024">ACCUMULO-1024</a></em></li>
  <li><code class="language-plaintext highlighter-rouge">static String o.a.a.core.client.ZooKeeperInstance.getInstanceIDFromHdfs(Path)</code> <em>deprecated in <a href="https://issues.apache.org/jira/browse/ACCUMULO-1">ACCUMULO-1</a></em></li>
  <li><code class="language-plaintext highlighter-rouge">static String ZooKeeperInstance.lookupInstanceName (ZooCache,UUID)</code> <em>deprecated in <a href="https://issues.apache.org/jira/browse/ACCUMULO-765">ACCUMULO-765</a></em></li>
  <li><code class="language-plaintext highlighter-rouge">void o.a.a.core.client.ColumnUpdate.setSystemTimestamp(long)</code>  <em>deprecated in <a href="https://issues.apache.org/jira/browse/ACCUMULO-786">ACCUMULO-786</a></em></li>
</ul>

<h2 id="testing">Testing</h2>

<p>Below is a list of all platforms that 1.6.0 was tested against by developers. Each Apache Accumulo release
has a set of tests that must be run before the candidate is capable of becoming an official release. That list includes the following:</p>

<ol>
  <li>Successfully run all unit tests</li>
  <li>Successfully run all functional test (test/system/auto)</li>
  <li>Successfully complete two 24-hour RandomWalk tests (LongClean module), with and without “agitation”</li>
  <li>Successfully complete two 24-hour Continuous Ingest tests, with and without “agitation”, with data verification</li>
  <li>Successfully complete two 72-hour Continuous Ingest tests, with and without “agitation”</li>
</ol>

<p>Each unit and functional test only runs on a single node, while the RandomWalk and Continuous Ingest tests run
on any number of nodes. <em>Agitation</em> refers to randomly restarting Accumulo processes and Hadoop Datanode processes,
and, in HDFS High-Availability instances, forcing NameNode failover.</p>

<p>The following acronyms are used in the test testing table.</p>

<ul>
  <li>CI : Continuous Ingest</li>
  <li>HA : High-Availability</li>
  <li>IT : Integration test, run w/ <code class="language-plaintext highlighter-rouge">mvn verify</code></li>
  <li>RW : Random Walk</li>
</ul>

<table id="release_notes_testing" class="table">
  <thead>
    <tr>
      <th>OS</th>
      <th>Java</th>
      <th>Hadoop</th>
      <th>Nodes</th>
      <th>ZooKeeper</th>
      <th>HDFS HA</th>
      <th>Version/Commit hash</th>
      <th>Tests</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CentOS 6.5</td>
      <td>CentOS OpenJDK 1.7</td>
      <td>Apache 2.2.0</td>
      <td>20 EC2 nodes</td>
      <td>Apache 3.4.5</td>
      <td>No</td>
      <td>1.6.0 RC1 + ACCUMULO_2668 patch</td>
      <td>24-hour CI w/o agitation. Verified.</td>
    </tr>
    <tr>
      <td>CentOS 6.5</td>
      <td>CentOS OpenJDK 1.7</td>
      <td>Apache 2.2.0</td>
      <td>20 EC2 nodes</td>
      <td>Apache 3.4.5</td>
      <td>No</td>
      <td>1.6.0 RC2</td>
      <td>24-hour RW (Conditional.xml module) w/o agitation</td>
    </tr>
    <tr>
      <td>CentOS 6.5</td>
      <td>CentOS OpenJDK 1.7</td>
      <td>Apache 2.2.0</td>
      <td>20 EC2 nodes</td>
      <td>Apache 3.4.5</td>
      <td>No</td>
      <td>1.6.0 RC5</td>
      <td>24-hour CI w/ agitation. Verified.</td>
    </tr>
    <tr>
      <td>CentOS 6.5</td>
      <td>CentOS OpenJDK 1.6 and 1.7</td>
      <td>Apache 1.2.1, 2.2.0</td>
      <td>Single</td>
      <td>Apache 3.3.6</td>
      <td>No</td>
      <td>1.6.0 RC5</td>
      <td>All unit and ITs w/  <code class="language-plaintext highlighter-rouge">-Dhadoop.profile=2</code> and <code class="language-plaintext highlighter-rouge">-Dhadoop.profile=1</code></td>
    </tr>
    <tr>
      <td>Gentoo</td>
      <td>Sun JDK 1.6.0_45</td>
      <td>Apache 1.2.1, 2.2.0, 2.3.0, 2.4.0</td>
      <td>Single</td>
      <td>Apache 3.4.5</td>
      <td>No</td>
      <td>1.6.0 RC5</td>
      <td>All unit and ITs. 2B entries ingested/verified with CI</td>
    </tr>
    <tr>
      <td>CentOS 6.4</td>
      <td>Sun JDK 1.6.0_31</td>
      <td>CDH 4.5.0</td>
      <td>7</td>
      <td>CDH 4.5.0</td>
      <td>Yes</td>
      <td>1.6.0 RC4 and RC5</td>
      <td>24-hour RW (LongClean) with and without agitation</td>
    </tr>
    <tr>
      <td>CentOS 6.4</td>
      <td>Sun JDK 1.6.0_31</td>
      <td>CDH 4.5.0</td>
      <td>7</td>
      <td>CDH 4.5.0</td>
      <td>Yes</td>
      <td>3a1b38</td>
      <td>72-hour CI with and without agitation. Verified.</td>
    </tr>
    <tr>
      <td>CentOS 6.4</td>
      <td>Sun JDK 1.6.0_31</td>
      <td>CDH 4.5.0</td>
      <td>7</td>
      <td>CDH 4.5.0</td>
      <td>Yes</td>
      <td>1.6.0 RC2</td>
      <td>24-hour CI without agitation. Verified.</td>
    </tr>
    <tr>
      <td>CentOS 6.4</td>
      <td>Sun JDK 1.6.0_31</td>
      <td>CDH 4.5.0</td>
      <td>7</td>
      <td>CDH 4.5.0</td>
      <td>Yes</td>
      <td>1.6.0 RC3</td>
      <td>24-hour CI with agitation. Verified.</td>
    </tr>
  </tbody>
</table>



<hr>

<p><strong>View all releases in the <a href="/release/">archive</a></strong></p>
<nav aria-label="Navigate Release Notes"><ul class="pagination d-flex justify-content-between">
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-1.5.4/">&laquo;&nbsp;Apache Accumulo 1.5.4</a></li>
      
    
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-1.6.1/">Apache Accumulo 1.6.1&nbsp;&raquo;</a></li>
      
    </ul></nav>

        </div>

        
<footer>

  <p><a href="https://www.apache.org/foundation/contributing"><img src="https://www.apache.org/images/SupportApache-small.png" alt="Support the ASF" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2025 <a href="https://www.apache.org">The Apache Software Foundation</a>.
Licensed under the <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.</p>

  <p>Apache®, the names of Apache projects and their logos, and the multicolor feather
logo are registered trademarks or trademarks of The Apache Software Foundation
in the United States and/or other countries.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
