<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" integrity="sha384-awusxf8AUojygHf2+joICySzB780jVvQaVCAt1clU3QsyAitLGul28Qxb2r1e5g+" crossorigin="anonymous">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jq-2.2.3/dt-1.10.12/datatables.min.css">
<link href="/css/accumulo.css" rel="stylesheet" type="text/css">

<title>Apache Accumulo 2.1.2</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-2.2.3/dt-1.10.12/datatables.min.js"></script>
<script type="text/javascript" src="https://www.apachecon.com/event-images/snippet.js"></script>
<script>
  // show location of canonical site if not currently on the canonical site
  $(function() {
    var host = window.location.host;
    if (typeof host !== 'undefined' && host !== 'accumulo.apache.org') {
      $('#non-canonical').show();
    }
  });

  $(function() {
    // decorate section headers with anchors
    return $("h2, h3, h4, h5, h6").each(function(i, el) {
      var $el, icon, id;
      $el = $(el);
      id = $el.attr('id');
      icon = '<i class="fa fa-link"></i>';
      if (id) {
        return $el.append($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
      }
    });
  });

  // fix sidebar width in documentation
  $(function() {
    var $affixElement = $('div[data-spy="affix"]');
    $affixElement.width($affixElement.parent().width());
  });
</script>

</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-items">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/"><img id="nav-logo" alt="Apache Accumulo" class="img-responsive" src="/images/accumulo-logo.png" width="200"
        /></a>
    </div>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="nav navbar-nav">
        <li class="nav-link"><a href="/downloads">Download</a></li>
        <li class="nav-link"><a href="/tour">Tour</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Releases<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/release/accumulo-2.1.2/">2.1.2 (Latest)</a></li>
            <li><a href="/release/accumulo-1.10.3/">1.10.3</a></li>
            <li><a href="/release/">Archive</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/docs/2.x">User Manual (2.x)</a></li>
            <li><a href="/docs/2.x/apidocs">Javadocs (2.x)</a></li>
            <li><a href="/api">Public API</a></li>
            <li><a href="/quickstart-1.x">Quickstart (1.x)</a></li>
            <li><a href="/accumulo2-maven-plugin">Accumulo Maven Plugin</a></li>
            <li><a href="/1.10/accumulo_user_manual.html">User Manual (1.10)</a></li>
            <li><a href="/1.10/apidocs">Javadocs (1.10)</a></li>
            <li><a href="/external-docs">External Docs</a></li>
            <li><a href="/docs-archive/">Archive</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/contact-us">Contact Us</a></li>
            <li><a href="/how-to-contribute">How To Contribute</a></li>
            <li><a href="/people">People</a></li>
            <li><a href="/related-projects">Related Projects</a></li>
          </ul>
        </li>
        <li class="nav-link"><a href="/search">Search</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#"><img alt="Apache Software Foundation" src="https://www.apache.org/foundation/press/kit/feather.svg" width="15"/><span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="https://www.apache.org">Apache Homepage <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/licenses/">License <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/foundation/sponsorship">Sponsorship <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/security">Security <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/foundation/thanks">Thanks <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <i class="fa fa-external-link"></i></a></li>
            <li><a href="https://www.apache.org/events/current-event.html">Current Event <i class="fa fa-external-link"></i></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <h1 class="title">Apache Accumulo 2.1.2</h1>
          
          

<p>21 Aug 2023</p>
<nav aria-label="Navigate Release Notes"><ul class="pager">
      
        <li class="previous"><a href="/release/accumulo-2.1.1/">&laquo;&nbsp;Apache Accumulo 2.1.1</a></li>
      
    
      
        <li class="next"><a href="/release/accumulo-3.0.0/">Apache Accumulo 3.0.0&nbsp;&raquo;</a></li>
      
    </ul></nav>


<div class="alert alert-danger" style="margin-bottom: 0px;" role="alert">
  <p>These are <strong>draft</strong> release notes for a future release of Accumulo!</p>
  <p>Please view <a class="alert-link" href="/release/accumulo-2.1.2/">the latest release notes</a>.</p>
</div>



<div class="alert alert-success" role="alert">
  <p>This version is a current <strong><a class="alert-link" href="/contributor/versioning#LTM">Long Term Maintenance (LTM)</a></strong> release.</p>
</div>


<h2 id="about">About</h2>

<p>Apache Accumulo 2.1.2 is a patch release of the 2.1.0 LTM line. It contains
bug fixes and minor enhancements. This version supersedes 2.1.1. Users
upgrading to 2.1 should upgrade directly to this version instead of 2.1.1.</p>

<p>Included here are some highlights of the most interesting bugs fixed and features
added in 2.1.2. For the full set of changes, please see the commit history
or issue tracker.</p>

<p>NOTE: This 2.1 release also includes any applicable bug fixes and improvements
that occurred in 1.10.3 and earlier.</p>

<h3 id="notable-improvements">Notable Improvements</h3>

<p>Improvements that affect performance:</p>

<ul>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3499">#3499</a>, <a href="https://github.com/apache/accumulo/issues/3543">#3543</a> <a href="https://github.com/apache/accumulo/issues/3549">#3549</a> Made some optimizations around the processing of file
references in the GC code.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3500">#3500</a>, <a href="https://github.com/apache/accumulo/issues/3509">#3509</a> TabletFile constructor was calling Path.getParent() which was spending
a lot of time performing Path validation. Modified the constructor to reduce the calls to Path.getParent.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3541">#3541</a>, <a href="https://github.com/apache/accumulo/issues/3542">#3542</a> The TabletGroupWatcher threads in the Manager are responsible for tablet
state and for making sure that tablets are balanced and assigned. The TabletGroupWatcher’s iterate over
all of the tablets, then wait for 60s before beginning the next iteration. Backported a new property,
MANAGER_TABLET_GROUP_WATCHER_INTERVAL, to make this wait time configurable.</p>
  </li>
</ul>

<p>Improvements that help with administration:</p>

<ul>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3678">#3678</a>, <a href="https://github.com/apache/accumulo/issues/3683">#3683</a> Added validation of property table.class.loader.context when it is set.
If the context name is null, an empty string, results in an exception creating the classloader for the
context, or if the resulting classloader is null, then an exception will be returned and the property
will not be set.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3548">#3548</a>, <a href="https://github.com/apache/accumulo/issues/3561">#3561</a> Added a banner to the manager page in the Monitor that displays the 
manager state and goal state when they are not normal.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3383">#3383</a>, <a href="https://github.com/apache/accumulo/issues/3680">#3680</a> Prompt the user for confirmation when they attempt to set a deprecated
property in the Shell as a way to get them to use the non-deprecated property.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3488">#3488</a>, <a href="https://github.com/apache/accumulo/issues/3612">#3612</a> Made tserver scans and compaction columns numerically sortable on the
Monitor UI.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3233">#3233</a>, <a href="https://github.com/apache/accumulo/issues/3562">#3562</a> Added copy-properties option to createnamespace and createtable shell
commands.</p>
  </li>
</ul>

<h3 id="notable-bug-fixes">Notable Bug Fixes</h3>

<ul>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3674">#3674</a>, <a href="https://github.com/apache/accumulo/issues/3677">#3677</a>, <a href="https://github.com/apache/accumulo/issues/3685">#3685</a> An invalid context classloader property was preventing
a minor compaction output file from being created, because the volume chooser class could not be loaded,
which failed the minor compaction thread. Once the minor compaction thread is dead, it will prevent future minor compactions from starting, subsequently preventing the tablet from being closed normally. The fixes here
include catching a broader range of exceptions in the minor compaction thread in an attempt to save it
from dying and initiating a minor compaction before closing the compactable object in the tablet.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3630">#3630</a>, <a href="https://github.com/apache/accumulo/issues/3631">#3631</a> A bug where ClientContext was incorrectly converting BatchWriter
latency and timeout values was fixed.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3617">#3617</a>, <a href="https://github.com/apache/accumulo/issues/3622">#3622</a> Close LocalityGroupReader when IOException is thrown to release reference
to a possibly corrupted stream in a cached block file.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3570">#3570</a>, <a href="https://github.com/apache/accumulo/issues/3571">#3571</a> Fixed the TabletGroupWatcher shutdown order.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3569">#3569</a>, <a href="https://github.com/apache/accumulo/issues/3579">#3579</a> <a href="https://github.com/apache/accumulo/issues/3644">#3644</a> Changes to ensure that scan sessions are cleaned up.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3553">#3553</a>, <a href="https://github.com/apache/accumulo/issues/3555">#3555</a> A bug where a failed user compaction would not retry and would hang
was fixed.</p>
  </li>
  <li>
    <p><a href="https://github.com/apache/accumulo/issues/3600">#3600</a> Normalized metric labels and structure.</p>
  </li>
</ul>

<h2 id="upgrading">Upgrading</h2>

<p>View the <a href="/docs/2.x/administration/upgrading">Upgrading Accumulo documentation</a> for guidance.</p>

<h2 id="212-github-project">2.1.2 GitHub Project</h2>

<p><a href="https://github.com/apache/accumulo/projects/29">All tickets related to 2.1.2.</a></p>



<hr>

<p><strong>View all releases in the <a href="/release/">archive</a></strong></p>
<nav aria-label="Navigate Release Notes"><ul class="pager">
      
        <li class="previous"><a href="/release/accumulo-2.1.1/">&laquo;&nbsp;Apache Accumulo 2.1.1</a></li>
      
    
      
        <li class="next"><a href="/release/accumulo-3.0.0/">Apache Accumulo 3.0.0&nbsp;&raquo;</a></li>
      
    </ul></nav>

        </div>

        
<footer>

  <p><a href="https://www.apache.org/foundation/contributing"><img src="https://www.apache.org/images/SupportApache-small.png" alt="Support the ASF" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2023 <a href="https://www.apache.org">The Apache Software Foundation</a>.
Licensed under the <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.</p>

  <p>Apache®, the names of Apache projects and their logos, and the multicolor feather
logo are registered trademarks or trademarks of The Apache Software Foundation
in the United States and/or other countries.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
