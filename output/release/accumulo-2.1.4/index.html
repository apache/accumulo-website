<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" href="/css/bootstrap/5.3.3/dist/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="/css/fontawesome/fontawesome-free-6.6.0-web/css/all.css">
<link rel="stylesheet" type="text/css" href="/css/datatables/bs5/dt-2.0.8/datatables.css">
<link rel="stylesheet" type="text/css" href="/css/accumulo.css">

<title>Apache Accumulo 2.1.4</title>

<script type="text/javascript" src="/js/jquery/3.7.1/jquery.js"></script>
<script type="text/javascript" src="/js/bootstrap/5.3.3/dist/js/bootstrap.bundle.js"></script>
<script type="text/javascript" src="/js/datatables/bs5/dt-2.0.8/datatables.js"></script>
<script type="text/javascript" src="https://www.apachecon.com/event-images/snippet.js"></script>
<script type="text/javascript" src="/js/accumulo.js"></script>
</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-light">
  <div class="container">
    <a class="navbar-brand" href="/">
      <img alt="Apache Accumulo" id="nav-logo" src="/images/accumulo-logo.png" width="200">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-items">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="/downloads">Download</a></li>
        <li class="nav-item"><a class="nav-link" href="/tour">Tour</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Releases</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/release/accumulo-3.0.0/">3.0.0 (Latest non-LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-2.1.3/">2.1.3 (Latest LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-1.10.4/">1.10.4 (Legacy LTM)</a></li>
            <li><a class="dropdown-item" href="/release/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Documentation</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/docs/2.x">User Manual (2.x)</a></li>
            <li><a class="dropdown-item" href="/docs/2.x/apidocs">Javadocs (2.x)</a></li>
            <li><a class="dropdown-item" href="/api">Public API</a></li>
            <li><a class="dropdown-item" href="/quickstart-1.x">Quickstart (1.x)</a></li>
            <li><a class="dropdown-item" href="/accumulo2-maven-plugin">Accumulo Maven Plugin</a></li>
            <li><a class="dropdown-item" href="/1.10/accumulo_user_manual.html">User Manual (1.10)</a></li>
            <li><a class="dropdown-item" href="/1.10/apidocs">Javadocs (1.10)</a></li>
            <li><a class="dropdown-item" href="/external-docs">External Docs</a></li>
            <li><a class="dropdown-item" href="/docs-archive/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Community</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/contact-us">Contact Us</a></li>
            <li><a class="dropdown-item" href="/how-to-contribute">How To Contribute</a></li>
            <li><a class="dropdown-item" href="/people">People</a></li>
            <li><a class="dropdown-item" href="/related-projects">Related Projects</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="/search">Search</a></li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <img alt="Apache Software Foundation" src="https://www.apache.org/foundation/press/kit/feather.svg" width="15"/>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="https://www.apache.org">Apache Homepage <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/licenses/">License <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship">Sponsorship <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/security">Security <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/thanks">Thanks <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/policies/privacy.html">Privacy Policy<span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/events/current-event.html">Current Event <span class="fa-solid fa-up-right-from-square"></span></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <h1 class="title">Apache Accumulo 2.1.4</h1>
          
          

<p>08 Apr 2025</p>
<nav aria-label="Navigate Release Notes"><ul class="pagination d-flex justify-content-between">
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-2.1.3/">&laquo;&nbsp;Apache Accumulo 2.1.3</a></li>
      
    
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-3.0.0/">Apache Accumulo 3.0.0&nbsp;&raquo;</a></li>
      
    </ul></nav>


<div class="alert alert-danger" style="margin-bottom: 0px;" role="alert">
  These are <strong>draft</strong> release notes for a future release of Accumulo!<br>
  Please view <a class="alert-link" href="/release/accumulo-2.1.3/">the latest release notes</a>.
</div>



<div class="alert alert-success" role="alert">
  This version is a current <strong><a class="alert-link" href="/contributor/versioning#LTM">Long Term Maintenance (LTM)</a></strong> release.
</div>


<h2 id="about">About</h2>

<p>Apache Accumulo 2.1.4 is a patch release of the 2.1 LTM line. It contains bug
fixes and minor enhancements. This version supersedes earlier 2.1 releases
and users upgrading to 2.1 should upgrade directly to this version instead of
any prior 2.1 release.</p>

<h2 id="notable-changes">Notable Changes</h2>

<ul>
  <li><a href="https://github.com/apache/accumulo/issues/5446">#5446</a> Many dependencies were updated, to include protobuf-java which
was updated from 3.22.0 to 3.25.6 due to a vulnerability. Users may run into
a runtime exception added in https://github.com/protocolbuffers/protobuf/pull/20084
when using old generated Protobuf files. Users may need to address any compatibility issues
with this version of protobuf-java, if their code also makes use of this library.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5073">#5073</a> <a href="https://github.com/apache/accumulo/issues/5034">#5034</a> Added <code class="language-plaintext highlighter-rouge">accumulo check-accumulo-properties</code> command that can be
run before an instance is initialized to check the properties file.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5193">#5193</a> Added <code class="language-plaintext highlighter-rouge">accumulo admin signalShutdown</code> command to signal the server
process to initiate a graceful shutdown. Compactors will finish the major compaction
that they are currently working on, then will exit. Scan Servers will return a busy
signal to all clients for new scan requests, and will shutdown when all in-progress
scans have closed. Tablet Servers will signal the Manager that they are shutting down,
which should prevent assignment of tablets to that server, then they will unload all
tablets and shut down. The Monitor, Manager, GarbageCollector, and CompactionCoordinator
will shut down also. The last step in the shutdown process for all servers is to remove
their lock in ZooKeeper.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5438">#5438</a> Added <code class="language-plaintext highlighter-rouge">accumulo upgrade --prepare</code> command which should be used after
shutting down an instance in preparation for an upgrade. This will check that no Fate
transactions exist, delete any ZooKeeper locks for server processes, and prohibit any
server processes from being started.</li>
  <li><a href="https://github.com/apache/accumulo/issues/4898">#4898</a> New way to compute bulk load plans.  This adds two new APIs for computing
which tablets should load a rfile.  APIs were also added to serialize, deserialize, and
merge load plans.  These primitives provide building blocks for doing distributed
computation of load plans over a set of rfiles.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5169">#5169</a> <a href="https://github.com/apache/accumulo/issues/5170">#5170</a> The TabletServer will halt itself when a walog write or
minc failure occurs and the TabletServer lock is not held in ZooKeeper.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5145">#5145</a> <a href="https://github.com/apache/accumulo/issues/5132">#5132</a> The Manager and TabletServer processes now have a background
thread that can be enabled via the property <code class="language-plaintext highlighter-rouge">general.server.lock.verification.interval</code> to
validate that the process is holding the lock in ZooKeeper. The existing mechanism of relying
on a Watcher to notify the process that the lock has been lost can be a problem due to the
fact that there is a single thread in the ZooKeeper client that fires Watcher events. If the
thread is currently waiting on a hung Watcher, then subsequent Watcher events will not fire
and could leave the server running without a lock.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5174">#5174</a> <a href="https://github.com/apache/accumulo/issues/5035">#5035</a> <a href="https://github.com/apache/accumulo/issues/5502">#5502</a> <a href="https://github.com/apache/accumulo/issues/5439">#5439</a> Many improvements
to the <code class="language-plaintext highlighter-rouge">accumulo-cluster</code> and <code class="language-plaintext highlighter-rouge">accumulo-service</code> scripts have been backported
from the main branch. This includes syntax changes. Users should review the
scripts for changes that may effect them.</li>
</ul>

<h3 id="configuration-improvements">Configuration Improvements</h3>

<ul>
  <li><a href="https://github.com/apache/accumulo/issues/4723">#4723</a> <a href="https://github.com/apache/accumulo/issues/5239">#5239</a> Changes to properties <code class="language-plaintext highlighter-rouge">tserver.session.idle.max</code> and
<code class="language-plaintext highlighter-rouge">tserver.session.update.idle.max</code> no longer require a TabletServer restart.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5397">#5397</a> <a href="https://github.com/apache/accumulo/issues/5399">#5399</a> Added property <code class="language-plaintext highlighter-rouge">gc.threads.delete.wal</code> to control the number of threads to use for
deleting write-ahead logs and recovery files.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5341">#5341</a> Created an optimization in Bulk Import v2 to enable faster processing of bulk import files
when loading into a sparse set of tablets in a large table. See new table property <code class="language-plaintext highlighter-rouge">table.bulk.metadata.skip.distance</code>.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5628">#5628</a> <a href="https://github.com/apache/accumulo/issues/5627">#5627</a> Made the number of threads the manager uses to
scan the metadata to find tablets that need attention configurable.  This
scan uses iterators that can have a large set of options, added a property to
optionally compress these iterator options.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5633">#5633</a> Added a new property for server processes advertise address
allowing different bind and advertise addresses.</li>
</ul>

<h3 id="notable-bug-fixes">Notable Bug Fixes</h3>

<ul>
  <li><a href="https://github.com/apache/accumulo/issues/5033">#5033</a> <a href="https://github.com/apache/accumulo/issues/5038">#5038</a> Group names in cluster.yaml must conform to bash variable name rules
or an error will be raised when parsing the cluster.yaml file.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5221">#5221</a> The shell will now print to stdout, instead of stderr, when there is no terminal set. This
will help with piping the output of the shell to other commands such as grep.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5396">#5396</a> Modified <code class="language-plaintext highlighter-rouge">accumulo-cluster</code> to stop GC and ScanServer processes first when stopping the
cluster. These processes write to the metadata table, which can lead to slower shutdown times.</li>
  <li><a href="https://github.com/apache/accumulo/issues/4868">#4868</a> <a href="https://github.com/apache/accumulo/issues/4871">#4871</a> Fixed listscans so that it shows a scan session id for batch scans instead
of always showing zero.</li>
  <li><a href="https://github.com/apache/accumulo/issues/4845">#4845</a> InstanceOperations.getActiveCompaction(String) did not handle the address of a
Compactor process being passed in the parameter. This has been fixed.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5445">#5445</a> The <code class="language-plaintext highlighter-rouge">cf</code> and <code class="language-plaintext highlighter-rouge">cq</code> options for the DeleteMany and Grep shell commands were not being
handled properly.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5570">#5570</a> Fixed race condition where an external compaction would be forgotten with its files
indefinitely reserved for a compaction that is no longer running.  This condition would continue until
the tablet server hosting the tablet was restarted.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5543">#5543</a> <a href="https://github.com/apache/accumulo/issues/5552">#5552</a> <a href="https://github.com/apache/accumulo/issues/5543">#5543</a> Fixed multiple bugs that could destabilize external compactions.</li>
</ul>

<h3 id="metrics-improvements">Metrics Improvements</h3>

<ul>
  <li><a href="https://github.com/apache/accumulo/issues/4756">#4756</a> <a href="https://github.com/apache/accumulo/issues/4757">#4757</a> <a href="https://github.com/apache/accumulo/issues/4840">#4840</a> Added metric to indicate how many zombie scan threads are running
in the TabletServer.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5011">#5011</a> Added queue tag to metrics emitted from the External Compactor processes.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5025">#5025</a> <a href="https://github.com/apache/accumulo/issues/4922">#4922</a> Added property <code class="language-plaintext highlighter-rouge">general.micrometer.log.metrics</code> to enable metrics on
the log4j2 or logback logging frameworks. Disabled by default.</li>
</ul>

<h3 id="other-improvements">Other Improvements</h3>

<ul>
  <li><a href="https://github.com/apache/accumulo/issues/4755">#4755</a> <a href="https://github.com/apache/accumulo/issues/5220">#5220</a> Fixed the help flag for the admin command so that it works for subcommands.</li>
  <li><a href="https://github.com/apache/accumulo/issues/4819">#4819</a> Tablets that are closing will no longer wait on scans to complete. Instead they
will try to interrupt the scan and then continue closing the tablet so that it can be migrated.
It’s possible that a zombie scan thread could remain in the TabletServer, if the scan thread is
blocked on something and does not die. Users should monitor the new zombie scan metric mentioned
in the section above.</li>
  <li><a href="https://github.com/apache/accumulo/issues/4867">#4867</a> Lowered the memory burden of listing a large number of External Compactors in the Monitor.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5026">#5026</a> Modified CompactionJobPrioritizer.createPriority to give a higher priority to tablets that
have more files than the maximum number of files per tablet.</li>
  <li><a href="https://github.com/apache/accumulo/issues/5400">#5400</a> Modified AESCryptoService to prevent the creation of overlapping streams.</li>
</ul>

<h2 id="requirements">Requirements</h2>

<p>Accumulo 2.1.4 now requires JDK 17 to build, but still supports Java 11 runtime.</p>

<h2 id="upgrading">Upgrading</h2>

<p>View the <a href="/docs/2.x/administration/upgrading">Upgrading Accumulo documentation</a> for guidance.</p>

<h2 id="useful-links">Useful Links</h2>

<ul>
  <li><a href="https://github.com/apache/accumulo/compare/rel/2.1.3...apache:rel/2.1.4">All Changes since 2.1.3</a></li>
  <li><a href="https://github.com/apache/accumulo/milestone/21">All tickets related to this release</a></li>
</ul>



<hr>

<p><strong>View all releases in the <a href="/release/">archive</a></strong></p>
<nav aria-label="Navigate Release Notes"><ul class="pagination d-flex justify-content-between">
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-2.1.3/">&laquo;&nbsp;Apache Accumulo 2.1.3</a></li>
      
    
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-3.0.0/">Apache Accumulo 3.0.0&nbsp;&raquo;</a></li>
      
    </ul></nav>

        </div>

        
<footer>

  <p><a href="https://www.apache.org/foundation/contributing"><img src="https://www.apache.org/images/SupportApache-small.png" alt="Support the ASF" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2025 <a href="https://www.apache.org">The Apache Software Foundation</a>.
Licensed under the <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.</p>

  <p>Apache®, the names of Apache projects and their logos, and the multicolor feather
logo are registered trademarks or trademarks of The Apache Software Foundation
in the United States and/or other countries.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
