<!DOCTYPE html>
<html lang="en">
<head>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" href="/css/bootstrap/5.3.1/dist/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/css/fontawesome/fontawesome-free-6.4.2-web/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/css/datatables/bs5/dt-1.13.6/datatables.min.css">
<link rel="stylesheet" type="text/css" href="/css/accumulo.css">

<title>Apache Accumulo 1.7.3</title>

<script type="text/javascript" src="/js/jquery/3.7.0/jquery.min.js"></script>
<script type="text/javascript" src="/js/bootstrap/5.3.1/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="/js/datatables/bs5/dt-1.13.6/datatables.min.js"></script>
<script type="text/javascript" src="https://www.apachecon.com/event-images/snippet.js"></script>
<script type="text/javascript" src="/js/accumulo.js"></script>
</head>
<body style="padding-top: 100px">

  <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-light">
  <div class="container">
    <a class="navbar-brand" href="/">
      <img alt="Apache Accumulo" id="nav-logo" src="/images/accumulo-logo.png" width="200">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-items">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar-items">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" href="/downloads">Download</a></li>
        <li class="nav-item"><a class="nav-link" href="/tour">Tour</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Releases</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/release/accumulo-3.0.0/">3.0.0 (Latest non-LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-2.1.2/">2.1.2 (Latest LTM)</a></li>
            <li><a class="dropdown-item" href="/release/accumulo-1.10.4/">1.10.4 (Legacy LTM)</a></li>
            <li><a class="dropdown-item" href="/release/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Documentation</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/docs/2.x">User Manual (2.x)</a></li>
            <li><a class="dropdown-item" href="/docs/2.x/apidocs">Javadocs (2.x)</a></li>
            <li><a class="dropdown-item" href="/api">Public API</a></li>
            <li><a class="dropdown-item" href="/quickstart-1.x">Quickstart (1.x)</a></li>
            <li><a class="dropdown-item" href="/accumulo2-maven-plugin">Accumulo Maven Plugin</a></li>
            <li><a class="dropdown-item" href="/1.10/accumulo_user_manual.html">User Manual (1.10)</a></li>
            <li><a class="dropdown-item" href="/1.10/apidocs">Javadocs (1.10)</a></li>
            <li><a class="dropdown-item" href="/external-docs">External Docs</a></li>
            <li><a class="dropdown-item" href="/docs-archive/">Archive</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Community</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/contact-us">Contact Us</a></li>
            <li><a class="dropdown-item" href="/how-to-contribute">How To Contribute</a></li>
            <li><a class="dropdown-item" href="/people">People</a></li>
            <li><a class="dropdown-item" href="/related-projects">Related Projects</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="/search">Search</a></li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <img alt="Apache Software Foundation" src="https://www.apache.org/foundation/press/kit/feather.svg" width="15"/>
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://www.apache.org">Apache Homepage <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/licenses/">License <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship">Sponsorship <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/security">Security <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/thanks">Thanks <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct <span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/foundation/policies/privacy.html">Privacy Policy<span class="fa-solid fa-up-right-from-square"></span></a></li>
            <li><a class="dropdown-item" href="https://www.apache.org/events/current-event.html">Current Event <span class="fa-solid fa-up-right-from-square"></span></a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div id="non-canonical" style="display: none; background-color: #F0E68C; padding-left: 1em;">
          Visit the official site at: <a href="https://accumulo.apache.org">https://accumulo.apache.org</a>
        </div>
        <div id="content">
          
          <h1 class="title">Apache Accumulo 1.7.3</h1>
          
          

<p>26 Mar 2017</p>
<nav aria-label="Navigate Release Notes"><ul class="pagination d-flex justify-content-between">
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-1.7.2/">&laquo;&nbsp;Apache Accumulo 1.7.2</a></li>
      
    
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-1.7.4/">Apache Accumulo 1.7.4&nbsp;&raquo;</a></li>
      
    </ul></nav>




<div class="alert alert-warning" role="alert">
  This version of Accumulo has been superceded by a newer version.<br>
  Please check <a class="alert-link" href="/release/">our release archive</a> for a newer version.
</div>


<p>Apache Accumulo 1.7.3 is a maintenance release on the 1.7 version branch. This release contains changes from 79 issues, comprised of bug-fixes,
performance improvements, build quality improvements, and more. See
<a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12312121&amp;version=12335841">JIRA</a> for a complete list.</p>

<p>Below are resources for this release:</p>

<ul>
  <li><a href="/1.7/accumulo_user_manual.html">User Manual</a> : In-depth developer and administrator documentation.</li>
  <li><a href="/1.7/apidocs/">Javadocs</a>  : Accumulo 1.7.3 API</li>
  <li><a href="/1.7/examples/">Examples</a> : Code with corresponding readme files that give step by step instructions for running example code.</li>
</ul>

<p>Accumulo follows <a href="https://semver.org/">Semantic Versioning</a> <a href="https://github.com/apache/accumulo/blob/rel/1.7.3/README.md#api">guidelines</a>.  This release is a
“<a href="https://semver.org/#spec-item-6">patch version</a>”, which  means that only backwards compatible bug fixes are introduced in this version. A bug fix is defined as
an internal change that fixes incorrect behavior. Users of any previous 1.7.x release are strongly encouraged to update as soon as possible to benefit from the
bug fixes with very little concern in change of underlying functionality.  As always, the Accumulo developers take API compatibility very seriously
and have invested much time to ensure that we meet the promises set forth to our users. Users of 1.6 or earlier that are seeking to upgrade to 1.7 should
consider 1.7.3 as a starting point.</p>

<h2 id="major-changes">Major Changes</h2>

<h3 id="tablet-server-performance-improvement">Tablet Server Performance Improvement</h3>

<p><a href="https://issues.apache.org/jira/browse/ACCUMULO-4458">ACCUMULO-4458</a> mitigated some contention on the Hadoop configuration instance backing the XML configs
read for SiteConfiguration. This should improve overall Tablet Server performance.</p>

<h3 id="synchronization-issue-with-deep-copies-of-sources">Synchronization issue with deep copies of sources</h3>

<p>Deep copies of iterator sources were not thread safe and threw exceptions, mostly down in the ZlibDecompressor library. The real bug was in the
BoundedRangeFileInputStream. The read() method synchronizes on the underlying FSDataInputStream, however the available() method did not.
See <a href="https://issues.apache.org/jira/browse/ACCUMULO-4391">ACCUMULO-4391</a>.</p>

<h3 id="system-permission-bug-in-thrift-proxy">System permission bug in Thrift Proxy</h3>

<p>The Accumulo Proxy lacked support for the following system permissions:</p>

<ul>
  <li>System.CREATE_NAMESPACE</li>
  <li>System.DROP_NAMESPACE</li>
  <li>System.ALTER_NAMESPACE</li>
  <li>System.OBTAIN_DELEGATION_TOKEN</li>
</ul>

<p>Without these permissions, proxy users would get an AccumuloException if attempting
any of those operations.  Fixed in ticket <a href="https://issues.apache.org/jira/browse/ACCUMULO-4519">ACCUMULO-4519</a>.</p>

<h3 id="hostregextableloadbalancer-used-stale-information">HostRegexTableLoadBalancer used stale information</h3>

<p>The HostRegexTableLoadBalancer maintains an internal mapping of tablet server pools and tablet server status. It was updated at a configurable interval
initially as an optimization. Unfortunately it had the negative side effect of providing the assignment and balance operations with stale information.
This lead to a constant shuffling of tablets. The configuration property was removed so that assign/balance methods get updated information every time.
See <a href="https://issues.apache.org/jira/browse/ACCUMULO-4576">ACCUMULO-4576</a>.</p>

<h3 id="modify-tableoperations-online-to-check-for-table-state">Modify TableOperations online to check for table state</h3>

<p>The table operations online operation executes as a fate operation. If a transaction lock for the table is currently held, this operation will block even
if no action is needed. <a href="https://issues.apache.org/jira/browse/ACCUMULO-4574">ACCUMULO-4574</a> changes the behavior of the online operation to a NOOP if the
table is already in the requested state. This returns immediately without queuing a fate operation.</p>

<h2 id="other-notable-changes">Other Notable Changes</h2>

<ul>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4600">ACCUMULO-4600</a> Shell does not fall back to accumulo-site.xml when on classpath</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4597">ACCUMULO-4597</a> NPE from RFile PrintInfo when RF has more than 1,000 column families.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4488">ACCUMULO-4488</a> Fix gap in user manual on Kerberos for clients</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-2724">ACCUMULO-2724</a> CollectTabletStats had multiple -t parameter</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4431">ACCUMULO-4431</a> Log what random is chosen for a tserver.</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4549">ACCUMULO-4549</a> Remove duplicate init functions in TabletBalancer</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4467">ACCUMULO-4467</a> Random Walk broken because of unmet dependency on commons-math</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4578">ACCUMULO-4578</a> Cancel compaction FATE operation does not release namespace lock</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4505">ACCUMULO-4505</a> Shell still reads accumulo-site.xml when using Zookeeper CLI options</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4535">ACCUMULO-4535</a> HostRegexTableLoadBalancer fails with NullPointerException</li>
  <li><a href="https://issues.apache.org/jira/browse/ACCUMULO-4575">ACCUMULO-4575</a> Concurrent table delete operations leave orphan fate transaction locks</li>
</ul>

<h2 id="upgrading">Upgrading</h2>

<p>The recommended way to upgrade from a prior 1.7.x release is to stop Accumulo, upgrade to 1.7.3 and then start 1.7.3.</p>

<p>When upgrading, there is a known issue if the upgrade fails due to outstanding <a href="/1.7/accumulo_user_manual.html#_fault_tolerant_executor_fate">FATE</a>
operations, see <a href="https://issues.apache.org/jira/browse/ACCUMULO-4496">ACCUMULO-4496</a> The work around if this situation is encountered:</p>

<ul>
  <li>Start tservers</li>
  <li>Start shell</li>
  <li>Run <code class="language-plaintext highlighter-rouge">fate print</code> to list all</li>
  <li>If completed, just delete with <code class="language-plaintext highlighter-rouge">fate delete</code></li>
  <li>Start masters once there are no more fate operations</li>
</ul>

<p>If any of the FATE operations are not complete, you should rollback the upgrade and troubleshoot completing them with your prior version.
When performing an upgrade between major versions, the upgrade is one-way, therefore it is important that you do not have any outstanding
FATE operations before starting the upgrade.</p>

<h3 id="from-16-to-17">From 1.6 to 1.7</h3>

<p>Upgrades from 1.6 to 1.7 are be possible with little effort as no changes were made at the data layer and RPC changes
were made in a backwards-compatible way. The recommended way is to stop Accumulo 1.6, perform the Accumulo upgrade to
1.7, and then start 1.7. Like previous versions, after 1.7.0 is started on a 1.6 instance, a one-time upgrade will
happen by the Master which will prevent a downgrade back to 1.6. Upgrades are still one way. Upgrades from versions
prior to 1.6 to 1.7 should follow the below path to 1.6 and then perform the upgrade to 1.7 – direct upgrades to 1.7
for versions other than 1.6 are untested.</p>

<p>After upgrading to 1.7.0, users will notice the addition of a <code class="language-plaintext highlighter-rouge">replication</code> table in the <code class="language-plaintext highlighter-rouge">accumulo</code> namespace. This
table is created and put offline to avoid any additional maintenance if the data-center replication feature is not
in use.</p>

<p>Existing configuration files from 1.6 should be compared against the examples provided in 1.7. The 1.6 configuration
files should all function with 1.7 code, but you will likely want to include a new file (hadoop-metrics2-accumulo.properties)
to enable the new metrics subsystem. Read the section on Hadoop Metrics2 in the Administration chapter of the Accumulo User Manual.</p>

<p>For each of the other new features, new configuration properties exist to support the feature. Refer to the added
sections in the User Manual for the feature for information on how to properly configure and use the new functionality.</p>

<h2 id="testing">Testing</h2>

<p>Each unit and functional test only runs on a single node, while the RandomWalk and Continuous Ingest tests run on any number of nodes. Agitation refers to randomly restarting Accumulo processes and Hadoop Datanode processes, and, in HDFS High-Availability instances, forcing NameNode failover.</p>

<table id="release_notes_testing" class="table">
  <thead>
    <tr>
      <th>OS/Environment</th>
      <th>Hadoop</th>
      <th>Nodes</th>
      <th>ZooKeeper</th>
      <th>HDFS HA</th>
      <th>Tests</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CentOS 7, openJDK 1.8 from CentOS yum repo, EC2; 1 leader m3.xlarge, 8 workers d2.xlarge</td>
      <td>2.7.3</td>
      <td>9</td>
      <td>3.4.9</td>
      <td>No</td>
      <td>24 HR Continuous Ingest without Agitation</td>
    </tr>
    <tr>
      <td>CentOS 7, openJDK 1.8 from CentOS yum repo, EC2; 1 leader m3.xlarge, 8 workers d2.xlarge</td>
      <td>2.7.3</td>
      <td>9</td>
      <td>3.4.9</td>
      <td>No</td>
      <td>24 HR Continuous Ingest Agitation</td>
    </tr>
  </tbody>
</table>



<hr>

<p><strong>View all releases in the <a href="/release/">archive</a></strong></p>
<nav aria-label="Navigate Release Notes"><ul class="pagination d-flex justify-content-between">
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-1.7.2/">&laquo;&nbsp;Apache Accumulo 1.7.2</a></li>
      
    
      
        <li class="page-item"><a class="page-link" href="/release/accumulo-1.7.4/">Apache Accumulo 1.7.4&nbsp;&raquo;</a></li>
      
    </ul></nav>

        </div>

        
<footer>

  <p><a href="https://www.apache.org/foundation/contributing"><img src="https://www.apache.org/images/SupportApache-small.png" alt="Support the ASF" id="asf-logo" height="100" /></a></p>

  <p>Copyright © 2011-2024 <a href="https://www.apache.org">The Apache Software Foundation</a>.
Licensed under the <a href="https://www.apache.org/licenses/">Apache License, Version 2.0</a>.</p>

  <p>Apache®, the names of Apache projects and their logos, and the multicolor feather
logo are registered trademarks or trademarks of The Apache Software Foundation
in the United States and/or other countries.</p>

</footer>


      </div>
    </div>
  </div>
</body>
</html>
